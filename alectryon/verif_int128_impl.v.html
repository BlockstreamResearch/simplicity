<!-- alectryon ~~frontend coq ~~output-directory ../alectryon ~~webpage-style windowed -R C C C/secp256k1/verif_int128_impl.v -->
<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>verif_int128_impl.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.14.0+0.14.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> VST.floyd.proofauto.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> VST.msl.iter_sepcon.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> extraMath.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> progressC.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> int128_impl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Opaque</span> Z.shiftr Z.pow.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk0"><span class="kn">Instance</span> <span class="nf">CompSpecs</span> : compspecs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">compspecs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">make_compspecs prog.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1"><span class="kn">Defined</span>.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">The default value <span class="kr">for</span> instance locality <span class="kr">is</span> currently
<span class="s2">&quot;local&quot;</span> <span class="kr">in</span> a section <span class="kn">and</span> <span class="s2">&quot;global&quot;</span> otherwise, but <span class="kr">is</span>
scheduled to <span class="nb">change</span> <span class="kr">in</span> a future release. For the <span class="kp">time</span>
being, adding instances <span class="kn">outside</span> of sections without
specifying an explicit locality attribute <span class="kr">is</span> therefore
deprecated. It <span class="kr">is</span> recommended to use <span class="s2">&quot;export&quot;</span> whenever
possible. Use the attributes #[local], #[<span class="kn">global</span>] <span class="kn">and</span>
#[export] depending on your choice. For example:
<span class="s2">&quot;#[export] Instance Foo : Bar := baz.&quot;</span>
[deprecated-instance-without-locality,deprecated]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk2"><span class="kn">Definition</span> <span class="nf">Vprog</span> : varspecs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">varspecs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">mk_varspecs prog.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk3"><span class="kn">Lemma</span> <span class="nf">iter_sepcon_wand_in</span> <span class="nv">B</span> <span class="nv">f</span> (<span class="nv">x</span> : B) <span class="nv">l</span> (<span class="nv">Hl</span> : In x l) : iter_sepcon f l = (f x * (f x -* iter_sepcon f l))%logic.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; mpred</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>In x l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iter_sepcon f l =
(f x * (f x -* iter_sepcon f l))%logic</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; mpred</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>In x l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iter_sepcon f l =
(f x * (f x -* iter_sepcon f l))%logic</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk5"><span class="nb">apply</span> pred_ext;[|<span class="nb">apply</span> wand_frame_elim].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; mpred</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>In x l</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iter_sepcon f l |-- f x * (f x -* iter_sepcon f l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk6"><span class="nb">apply</span> In_Permutation_cons <span class="kr">in</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; mpred</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">exists</span> <span class="nv">l&#39;</span> : list B, Permutation l (x :: l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iter_sepcon f l |-- f x * (f x -* iter_sepcon f l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk7"><span class="nb">destruct</span> Hl <span class="kr">as</span> [l&#39; Hl&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; mpred</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>Permutation l (x :: l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iter_sepcon f l |-- f x * (f x -* iter_sepcon f l)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk8"><span class="nb">rewrite</span> (iter_sepcon_permutation _ Hl&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; mpred</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>Permutation l (x :: l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iter_sepcon f (x :: l&#39;)
|-- f x * (f x -* iter_sepcon f (x :: l&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk9"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; mpred</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>Permutation l (x :: l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">f x * iter_sepcon f l&#39;
|-- f x * (f x -* f x * iter_sepcon f l&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chka">entailer!.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>B -&gt; mpred</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>l, l'</var><span class="hyp-type"><b>: </b><span>list B</span></span></span><br><span><var>Hl'</var><span class="hyp-type"><b>: </b><span>Permutation l (x :: l&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">iter_sepcon f l&#39; |-- f x -* f x * iter_sepcon f l&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> wand_frame_intro.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Int128_modulus</span> : Z := <span class="mi">2</span>^<span class="mi">128</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Int128_max_unsigned</span> : Z := Int128_modulus - <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Int128_max_signed</span> : Z := <span class="mi">2</span>^<span class="mi">127</span> - <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Int128_min_signed</span> : Z := -<span class="mi">2</span>^<span class="mi">127</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac</span> <span class="nf">unfold_Int128</span> :=
  <span class="nb">unfold</span> Int128_max_unsigned,
         Int128_max_signed,
         Int128_min_signed,
         Int128_modulus
  <span class="kr">in</span> *|-*.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">t_secp256k1_uint128</span> := Tstruct _secp256k1_uint128 noattr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* (secp256k1_uint128_at sh x p) says that the structure pointed to by p</span>
<span class="c"> * is equivalent to x modulo 2^128.</span>
<span class="c"> *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_uint128_at</span> <span class="nv">sh</span> <span class="nv">x</span> :=
  data_at sh
    t_secp256k1_uint128 (Vlong (Int64.repr x), Vlong (Int64.repr (Z.shiftr x <span class="mi">64</span>))).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Module</span> <span class="nf">secp256k1_uint128</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">args</span> :=
{ share : Share.t
; z : Z
; ptr : val
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">at_args</span> (<span class="nv">x</span> : args) : mpred :=
  secp256k1_uint128_at (share x) (z x) (ptr x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">secp256k1_uint128</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_umul128_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_umul128
  WITH a : Z, b : Z, hi : val, sh : share
  PRE [ tulong, tulong, tptr tulong ]
    PROP(writable_share sh;
         <span class="mi">0</span> &lt;= a &lt; Int64.modulus;
         <span class="mi">0</span> &lt;= b &lt; Int64.modulus)
    PARAMS(Vlong (Int64.repr a); Vlong (Int64.repr b); hi)
  SEP(data_at_ sh tulong hi)
POST [ tulong ]
  PROP()
  RETURN(Vlong (Int64.repr (a * b)))
  SEP(data_at sh tulong (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>))) hi).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_mul128_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_mul128
  WITH a : Z, b : Z, hi : val, sh : share
  PRE [ tlong, tlong, tptr tlong ]
    PROP(writable_share sh;
         Int64.min_signed &lt;= a &lt;= Int64.max_signed;
         Int64.min_signed &lt;= b &lt;= Int64.max_signed)
    PARAMS(Vlong (Int64.repr a); Vlong (Int64.repr b); hi)
  SEP(data_at_ sh tlong hi)
POST [ tlong ]
  PROP()
  RETURN(Vlong (Int64.repr (a * b)))
  SEP(data_at sh tlong (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>))) hi).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_u128_mul_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_u128_mul
  WITH r : val, sh : share, a : Z, b : Z
  PRE [ tptr t_secp256k1_uint128, tulong, tulong ]
    PROP(writable_share sh;
         <span class="mi">0</span> &lt;= a &lt; Int64.modulus;
         <span class="mi">0</span> &lt;= b &lt; Int64.modulus)
    PARAMS(r; Vlong (Int64.repr a); Vlong (Int64.repr b))
  SEP(data_at_ sh t_secp256k1_uint128 r)
POST [ tvoid ]
  PROP()
  RETURN()
  SEP(secp256k1_uint128_at sh (a * b) r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_u128_accum_mul_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_u128_accum_mul
  WITH r : val, sh : share, r0 : Z, a : Z, b : Z
  PRE [ tptr t_secp256k1_uint128, tulong, tulong ]
    PROP(writable_share sh;
         <span class="mi">0</span> &lt;= a &lt; Int64.modulus;
         <span class="mi">0</span> &lt;= b &lt; Int64.modulus)
    PARAMS(r; Vlong (Int64.repr a); Vlong (Int64.repr b))
  SEP(secp256k1_uint128_at sh r0 r)
POST [ tvoid ]
  PROP()
  RETURN()
  SEP(secp256k1_uint128_at sh (r0 + a * b) r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_u128_accum_u64_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_u128_accum_u64
  WITH r : val, sh : share, r0 : Z, a : Z
  PRE [ tptr t_secp256k1_uint128, tulong ]
    PROP(writable_share sh;
         <span class="mi">0</span> &lt;= a &lt; Int64.modulus)
    PARAMS(r; Vlong (Int64.repr a))
  SEP(secp256k1_uint128_at sh r0 r)
POST [ tvoid ]
  PROP()
  RETURN()
  SEP(secp256k1_uint128_at sh (r0 + a) r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_u128_rshift_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_u128_rshift
  WITH r : val, sh : share, r0 : Z, n : Z
  PRE [ tptr t_secp256k1_uint128, tuint ]
    PROP(writable_share sh;
         <span class="mi">0</span> &lt;= r0 &lt; Int128_modulus;
         <span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span>)
    PARAMS(r; Vint (Int.repr n))
  SEP(secp256k1_uint128_at sh r0 r)
POST [ tvoid ]
  PROP()
  RETURN()
  SEP(secp256k1_uint128_at sh (Z.shiftr r0 n) r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_u128_to_u64_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_u128_to_u64
  WITH r : val, sh : share, r0 : Z
  PRE [ tptr t_secp256k1_uint128 ]
    PROP(readable_share sh)
    PARAMS(r)
  SEP(secp256k1_uint128_at sh r0 r)
POST [ tulong ]
  PROP()
  RETURN(Vlong (Int64.repr r0))
  SEP(secp256k1_uint128_at sh r0 r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_u128_hi_u64_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_u128_hi_u64
  WITH r : val, sh : share, r0 : Z
  PRE [ tptr t_secp256k1_uint128 ]
    PROP(readable_share sh)
    PARAMS(r)
  SEP(secp256k1_uint128_at sh r0 r)
POST [ tulong ]
  PROP()
  RETURN(Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
  SEP(secp256k1_uint128_at sh r0 r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_u128_from_u64_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_u128_from_u64
  WITH r : val, sh : share, a : Z
  PRE [ tptr t_secp256k1_uint128, tulong ]
    PROP(writable_share sh;
         <span class="mi">0</span> &lt;= a &lt; Int64.modulus)
    PARAMS(r; Vlong (Int64.repr a))
  SEP(data_at_ sh t_secp256k1_uint128 r)
POST [ tvoid ]
  PROP()
  RETURN()
  SEP(secp256k1_uint128_at sh a r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_u128_check_bits_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_u128_check_bits
  WITH r : val, sh : share, r0 : Z, n : Z
  PRE [ tptr t_secp256k1_uint128, tuint ]
    PROP(readable_share sh;
         <span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span>^<span class="mi">128</span>;
         <span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span>)
    PARAMS(r; Vint (Int.repr n))
  SEP(secp256k1_uint128_at sh r0 r)
POST [ tint ]
  PROP()
  RETURN(Vint (Int.repr (<span class="kr">if</span> r0 &lt;? <span class="mi">2</span>^n <span class="kr">then</span> <span class="mi">1</span> <span class="kr">else</span> <span class="mi">0</span>)))
  SEP(secp256k1_uint128_at sh r0 r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_i128_mul_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_i128_mul
  WITH r : val, sh : share, a : Z, b : Z
  PRE [ tptr t_secp256k1_uint128, tlong, tlong ]
    PROP(writable_share sh;
         Int64.min_signed &lt;= a &lt;= Int64.max_signed;
         Int64.min_signed &lt;= b &lt;= Int64.max_signed)
    PARAMS(r; Vlong (Int64.repr a); Vlong (Int64.repr b))
  SEP(data_at_ sh t_secp256k1_uint128 r)
POST [ tvoid ]
  PROP()
  RETURN()
  SEP(secp256k1_uint128_at sh (a * b) r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_i128_accum_mul_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_i128_accum_mul
  WITH r : val, sh : share, r0 : Z, a : Z, b : Z
  PRE [ tptr t_secp256k1_uint128, tlong, tlong ]
    PROP(writable_share sh;
         Int64.min_signed &lt;= a &lt;= Int64.max_signed;
         Int64.min_signed &lt;= b &lt;= Int64.max_signed;
         Int128_min_signed &lt;= r0 &lt;= Int128_max_signed;
         Int128_min_signed &lt;= r0 + a * b &lt;= Int128_max_signed)
    PARAMS(r; Vlong (Int64.repr a); Vlong (Int64.repr b))
  SEP(secp256k1_uint128_at sh r0 r)
POST [ tvoid ]
  PROP()
  RETURN()
  SEP(secp256k1_uint128_at sh (r0 + a * b) r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_i128_dissip_mul_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_i128_dissip_mul
  WITH r : val, sh : share, r0 : Z, a : Z, b : Z
  PRE [ tptr t_secp256k1_uint128, tlong, tlong ]
    PROP(writable_share sh;
         Int64.min_signed &lt;= a &lt;= Int64.max_signed;
         Int64.min_signed &lt;= b &lt;= Int64.max_signed;
         Int128_min_signed &lt;= r0 &lt;= Int128_max_signed;
         Int128_min_signed &lt;= r0 - a * b &lt;= Int128_max_signed)
   PARAMS(r; Vlong (Int64.repr a); Vlong (Int64.repr b))
  SEP(secp256k1_uint128_at sh r0 r)
POST [ tvoid ]
  PROP()
  RETURN()
  SEP(secp256k1_uint128_at sh (r0 - a * b) r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_i128_det_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_i128_det
  WITH r : val, sh : share, a : Z, b : Z, c : Z, d : Z
  PRE [ tptr t_secp256k1_uint128, tlong, tlong, tlong, tlong ]
    PROP(writable_share sh;
         Int64.min_signed &lt;= a &lt;= Int64.max_signed;
         Int64.min_signed &lt;= b &lt;= Int64.max_signed;
         Int64.min_signed &lt;= c &lt;= Int64.max_signed;
         Int64.min_signed &lt;= d &lt;= Int64.max_signed;
         Int128_min_signed &lt;= a * d - b * c &lt;= Int128_max_signed)
    PARAMS(r; Vlong (Int64.repr a); Vlong (Int64.repr b);
              Vlong (Int64.repr c); Vlong (Int64.repr d))
  SEP(data_at_ sh t_secp256k1_uint128 r)
POST [ tvoid ]
  PROP()
  RETURN()
  SEP(secp256k1_uint128_at sh (a * d - b * c) r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_i128_rshift_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_i128_rshift
  WITH r : val, sh : share, r0 : Z, n : Z
  PRE [ tptr t_secp256k1_uint128, tuint ]
    PROP(writable_share sh;
         Int128_min_signed &lt;= r0 &lt;= Int128_max_signed;
         <span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span>)
    PARAMS(r; Vint (Int.repr n))
  SEP(secp256k1_uint128_at sh r0 r)
POST [ tvoid ]
  PROP()
  RETURN()
  SEP(secp256k1_uint128_at sh (Z.shiftr r0 n) r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_i128_to_i64_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_i128_to_i64
  WITH r : val, sh : share, r0 : Z
  PRE [ tptr t_secp256k1_uint128 ]
    PROP(readable_share sh)
    PARAMS(r)
  SEP(secp256k1_uint128_at sh r0 r)
POST [ tlong ]
  PROP()
  RETURN(Vlong (Int64.repr r0))
  SEP(secp256k1_uint128_at sh r0 r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_i128_from_i64_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_i128_from_i64
  WITH r : val, sh : share, a : Z
  PRE [ tptr t_secp256k1_uint128, tlong ]
    PROP(writable_share sh;
         Int64.min_signed &lt;= a &lt;= Int64.max_signed)
    PARAMS(r; Vlong (Int64.repr a))
  SEP(data_at_ sh t_secp256k1_uint128 r)
POST [ tvoid ]
  PROP()
  RETURN()
  SEP(secp256k1_uint128_at sh a r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_i128_eq_var_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_i128_eq_var
  WITH ptrs : list secp256k1_uint128.args,
       r : secp256k1_uint128.args,
       s : secp256k1_uint128.args
    PRE [ tptr t_secp256k1_uint128, tptr t_secp256k1_uint128 ]
    PROP(In r ptrs;
         In s ptrs;
         readable_share (secp256k1_uint128.share r);
         readable_share (secp256k1_uint128.share s))
    PARAMS(secp256k1_uint128.ptr r; secp256k1_uint128.ptr s)
  SEP(iter_sepcon secp256k1_uint128.at_args ptrs)
POST [ tint ]
  PROP()
  RETURN(Vint (Int.repr (<span class="kr">if</span> secp256k1_uint128.z r mod <span class="mi">2</span>^<span class="mi">128</span> =? secp256k1_uint128.z s mod <span class="mi">2</span>^<span class="mi">128</span> <span class="kr">then</span> <span class="mi">1</span> <span class="kr">else</span> <span class="mi">0</span>)))
  SEP(iter_sepcon secp256k1_uint128.at_args ptrs).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">secp256k1_i128_check_pow2_spec</span> : <span class="kn">ident</span> * funspec :=
DECLARE _secp256k1_i128_check_pow2
  WITH r : val, sh : share, r0 : Z, n : Z
  PRE [ tptr t_secp256k1_uint128, tuint ]
    PROP(readable_share sh;
         <span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span>)
    PARAMS(r; Vint (Int.repr n))
  SEP(secp256k1_uint128_at sh r0 r)
POST [ tint ]
  PROP()
  RETURN(Vint (Int.repr (<span class="kr">if</span> r0 mod <span class="mi">2</span>^<span class="mi">128</span> =? <span class="mi">2</span>^n <span class="kr">then</span> <span class="mi">1</span> <span class="kr">else</span> <span class="mi">0</span>)))
  SEP(secp256k1_uint128_at sh r0 r).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Gprog</span> := <span class="kp">ltac</span>:(with_library prog
  [secp256k1_umul128_spec
  ;secp256k1_mul128_spec
  ;secp256k1_u128_mul_spec
  ;secp256k1_u128_accum_mul_spec
  ;secp256k1_u128_accum_u64_spec
  ;secp256k1_u128_rshift_spec
  ;secp256k1_u128_to_u64_spec
  ;secp256k1_u128_hi_u64_spec
  ;secp256k1_u128_from_u64_spec
  ;secp256k1_u128_check_bits_spec
  ;secp256k1_i128_mul_spec
  ;secp256k1_i128_accum_mul_spec
  ;secp256k1_i128_dissip_mul_spec
  ;secp256k1_i128_det_spec
  ;secp256k1_i128_rshift_spec
  ;secp256k1_i128_to_i64_spec
  ;secp256k1_i128_from_i64_spec
  ;secp256k1_i128_eq_var_spec
  ;secp256k1_i128_check_pow2_spec
  ]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkb"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_umul128</span>: semax_body Vprog Gprog f_secp256k1_umul128 secp256k1_umul128_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_umul128
  secp256k1_umul128_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_umul128
  secp256k1_umul128_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkd">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)); temp _hi hi)
   SEP (data_at_ sh tulong hi))
  (_ll = ((tulong) (tuint) _a * (tuint) _b);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chke"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vlong
  (Int64.repr
     ((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
       (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
       (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
      <span class="mi">2</span> ^ <span class="mi">32</span> +
      (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)) =
Vlong (Int64.repr (a * b))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkf"><hr></label><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) <span class="mi">32</span> +
         Z.shiftr (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
              <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>))) hi</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk10">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vlong
  (Int64.repr
     ((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
       (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
       (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
      <span class="mi">2</span> ^ <span class="mi">32</span> +
      (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)) =
Vlong (Int64.repr (a * b))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk11"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr
  ((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
    (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
    (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
   <span class="mi">2</span> ^ <span class="mi">32</span> + (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) =
Int64.repr (a * b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk12"><span class="nb">apply</span> Int64.eqm_repr_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.eqm
  ((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
    (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
    (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
   <span class="mi">2</span> ^ <span class="mi">32</span> + (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)
  (Int64.unsigned (Int64.repr (a * b)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk13"><span class="nb">eapply</span> Int64.eqm_trans;[<span class="nb">apply</span> Int64.eqm_unsigned_repr|<span class="nb">apply</span> Int64.eqm_refl2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.unsigned
  (Int64.repr
     ((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
       (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
       (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
      <span class="mi">2</span> ^ <span class="mi">32</span> +
      (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)) =
Int64.unsigned (Int64.repr (a * b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk14"><span class="nb">rewrite</span> !Int64.unsigned_repr_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
  (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
 <span class="mi">2</span> ^ <span class="mi">32</span> + (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)
mod Int64.modulus = (a * b) mod Int64.modulus</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk15"><span class="nb">change</span> Int64.modulus <span class="kr">with</span> (<span class="mi">2</span>^<span class="mi">64</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
  (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
 <span class="mi">2</span> ^ <span class="mi">32</span> + (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk16"><span class="nb">rewrite</span> !Z.shiftr_div_pow2 <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
  (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) * <span class="mi">2</span> ^ <span class="mi">32</span> +
 (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk17"><span class="kr">match goal with</span>
   |- (<span class="nl">?x</span> mod <span class="mi">2</span>^<span class="mi">64</span>) = _ =&gt; <span class="nb">replace</span> x <span class="kr">with</span>
  (<span class="mi">2</span> ^ <span class="mi">32</span> * ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
  <span class="mi">2</span> ^ <span class="mi">32</span> * ((a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)  +
  (<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="bp">by</span> <span class="bp">ring</span>
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> ^ <span class="mi">32</span> * ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
 <span class="mi">2</span> ^ <span class="mi">32</span> * ((a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
 (<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk18"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> ^ <span class="mi">32</span> * ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
 <span class="mi">2</span> ^ <span class="mi">32</span> * ((a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
 a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span> =
(a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk19"><span class="nb">rewrite</span> &lt;- !(Zmult_mod_distr_l _ _ (<span class="mi">2</span>^<span class="mi">32</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)))
 mod (<span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) +
 (<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)))
 mod (<span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1a"><span class="nb">rewrite</span> &lt;- (Z.mod_small (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) (<span class="mi">2</span>^<span class="mi">64</span>)) <span class="bp">by</span> (<span class="nb">rewrite</span> strict_bounds; solve_bounds).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)))
 mod (<span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) +
 (<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)))
 mod (<span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) +
 (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span>)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1b"><span class="nb">change</span> (<span class="mi">2</span>^<span class="mi">32</span> * <span class="mi">2</span>^<span class="mi">32</span>) <span class="kr">with</span> (<span class="mi">2</span>^<span class="mi">64</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> +
 (<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> +
 (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span>)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1c"><span class="nb">rewrite</span> Zplus_mod_idemp_r, &lt;- Zplus_assoc, Zplus_mod_idemp_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) +
 ((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> +
  a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> =
(a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1d"><span class="kr">match goal with</span>
   |- (<span class="nl">?x</span> mod <span class="mi">2</span>^<span class="mi">64</span>) = _ =&gt; <span class="nb">replace</span> x <span class="kr">with</span>
  ((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span>^<span class="mi">64</span> +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) + b mod <span class="mi">2</span> ^ <span class="mi">32</span>)))) <span class="bp">by</span> <span class="bp">ring</span>
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> +
 a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) + b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1e"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> +
 a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1f"><span class="nb">change</span> (<span class="mi">2</span>^<span class="mi">64</span>) <span class="kr">with</span> (<span class="mi">2</span>^<span class="mi">32</span> * <span class="mi">2</span>^<span class="mi">32</span>) <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)))
 mod (<span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> =
(a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk20"><span class="nb">rewrite</span> Zmult_mod_distr_l, Zmult_mod_idemp_r, &lt;- Zmult_mod_distr_l, Zplus_mod_idemp_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk21"><span class="kr">match goal with</span>
   |- (<span class="nl">?x</span> mod <span class="mi">2</span>^<span class="mi">64</span>) = _ =&gt; <span class="nb">replace</span> x <span class="kr">with</span>
  ((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span>) + (a mod <span class="mi">2</span> ^ <span class="mi">32</span>)) * b) <span class="bp">by</span> <span class="bp">ring</span>
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span>) + a mod <span class="mi">2</span> ^ <span class="mi">32</span>) * b)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk22"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk23">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) <span class="mi">32</span> +
         Z.shiftr (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
              <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>))) hi</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk24"><span class="nb">rewrite</span> &lt;- (Z.shiftr_shiftr _ <span class="mi">32</span> <span class="mi">32</span>), !Z.shiftr_div_pow2 <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) +
         a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
         a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
         (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
          (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk25"><span class="nb">rewrite</span> &lt;- Z.div_add_l <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        (((a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) +
           a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
           a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) *
          <span class="mi">2</span> ^ <span class="mi">32</span> +
          (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
           (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
           (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk26"><span class="kr">match goal with</span>
   |- <span class="kp">context</span> [Int64.repr (<span class="nl">?x</span> / <span class="mi">2</span>^<span class="mi">32</span>)] =&gt; <span class="nb">replace</span> x <span class="kr">with</span>
   (((<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) + (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
     (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>)) +
    (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) +
    (<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) + (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>))
   ) <span class="bp">by</span> <span class="bp">ring</span>
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        ((<span class="mi">2</span> ^ <span class="mi">32</span> *
          (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) +
          (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
          a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) +
           (<span class="mi">2</span> ^ <span class="mi">32</span> *
            (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) +
            (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>))) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk27"><span class="nb">rewrite</span> &lt;- !Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) +
          a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) +
           a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) / <span class="mi">2</span> ^ <span class="mi">32</span>)))
  hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk28"><span class="nb">rewrite</span> &lt;- Z.mul_add_distr_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) +
          a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          a / <span class="mi">2</span> ^ <span class="mi">32</span> *
          (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) + b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk29"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) +
          a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk2a"><span class="nb">rewrite</span> &lt;- Z.div_add_l <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        (((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) * <span class="mi">2</span> ^ <span class="mi">32</span> +
           a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk2b"><span class="nb">rewrite</span> &lt;- Z.mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        (((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) +
           a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk2c"><span class="nb">rewrite</span> &lt;- Z.mul_add_distr_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> *
          (b / <span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span> + b mod <span class="mi">2</span> ^ <span class="mi">32</span>) /
          <span class="mi">2</span> ^ <span class="mi">32</span> + a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk2d"><span class="nb">rewrite</span> (Z.mul_comm _ (<span class="mi">2</span>^<span class="mi">32</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> *
          (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) + b mod <span class="mi">2</span> ^ <span class="mi">32</span>) /
          <span class="mi">2</span> ^ <span class="mi">32</span> + a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk2e"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b / <span class="mi">2</span> ^ <span class="mi">32</span> + a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk2f"><span class="nb">rewrite</span> Z.add_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        ((a / <span class="mi">2</span> ^ <span class="mi">32</span> * b + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b / <span class="mi">2</span> ^ <span class="mi">32</span>) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk30"><span class="nb">rewrite</span> &lt;- Z.div_add_l <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        ((a / <span class="mi">2</span> ^ <span class="mi">32</span> * b * <span class="mi">2</span> ^ <span class="mi">32</span> + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b) /
         <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk31"><span class="nb">rewrite</span> (Z.mul_comm _ (<span class="mi">2</span>^<span class="mi">32</span>)), Z.mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        ((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span>) * b + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b) /
         <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk32"><span class="nb">rewrite</span> &lt;- Z.mul_add_distr_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong
     (Int64.repr
        ((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span>) + a mod <span class="mi">2</span> ^ <span class="mi">32</span>) * b /
         <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk33"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tulong
  (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tulong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">entailer!.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk34"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_mul128</span>: semax_body Vprog Gprog f_secp256k1_mul128 secp256k1_mul128_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_mul128
  secp256k1_mul128_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk35"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_mul128
  secp256k1_mul128_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk36">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)); temp _hi hi)
   SEP (data_at_ sh tlong hi))
  (_ll = ((tulong) (tuint) _a * (tuint) _b);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk37"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vlong
  (Int64.repr
     ((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
       (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
       (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
      <span class="mi">2</span> ^ <span class="mi">32</span> +
      (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)) =
Vlong (Int64.repr (a * b))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk38" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk38"><hr></label><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) <span class="mi">32</span> +
         Z.shiftr (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
              <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>))) hi</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk39">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vlong
  (Int64.repr
     ((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
       (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
       (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
      <span class="mi">2</span> ^ <span class="mi">32</span> +
      (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)) =
Vlong (Int64.repr (a * b))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk3a"><span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr
  ((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
    (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
    (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
   <span class="mi">2</span> ^ <span class="mi">32</span> + (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) =
Int64.repr (a * b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk3b"><span class="nb">apply</span> Int64.eqm_repr_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.eqm
  ((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
    (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
    (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
   <span class="mi">2</span> ^ <span class="mi">32</span> + (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)
  (Int64.unsigned (Int64.repr (a * b)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk3c"><span class="nb">eapply</span> Int64.eqm_trans;[<span class="nb">apply</span> Int64.eqm_unsigned_repr|<span class="nb">apply</span> Int64.eqm_refl2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.unsigned
  (Int64.repr
     ((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
       (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
       (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
      <span class="mi">2</span> ^ <span class="mi">32</span> +
      (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)) =
Int64.unsigned (Int64.repr (a * b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk3d"><span class="nb">rewrite</span> !Int64.unsigned_repr_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
  (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
 <span class="mi">2</span> ^ <span class="mi">32</span> + (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)
mod Int64.modulus = (a * b) mod Int64.modulus</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk3e"><span class="nb">change</span> Int64.modulus <span class="kr">with</span> (<span class="mi">2</span>^<span class="mi">64</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
  (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) *
 <span class="mi">2</span> ^ <span class="mi">32</span> + (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk3f"><span class="nb">rewrite</span> !Z.shiftr_div_pow2 <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
  (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) * <span class="mi">2</span> ^ <span class="mi">32</span> +
 (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk40"><span class="kr">match goal with</span>
   |- (<span class="nl">?x</span> mod <span class="mi">2</span>^<span class="mi">64</span>) = _ =&gt; <span class="nb">replace</span> x <span class="kr">with</span>
  (<span class="mi">2</span> ^ <span class="mi">32</span> * ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
  <span class="mi">2</span> ^ <span class="mi">32</span> * ((a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)  +
  (<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="bp">by</span> <span class="bp">ring</span>
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> ^ <span class="mi">32</span> * ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
 <span class="mi">2</span> ^ <span class="mi">32</span> * ((a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
 (<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk41"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> ^ <span class="mi">32</span> * ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
 <span class="mi">2</span> ^ <span class="mi">32</span> * ((a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
 a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span> =
(a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk42"><span class="nb">rewrite</span> &lt;- !(Zmult_mod_distr_l _ _ (<span class="mi">2</span>^<span class="mi">32</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)))
 mod (<span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) +
 (<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)))
 mod (<span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk43"><span class="nb">rewrite</span> &lt;- (Z.mod_small (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) (<span class="mi">2</span>^<span class="mi">64</span>)) <span class="bp">by</span> (<span class="nb">rewrite</span> strict_bounds; solve_bounds).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)))
 mod (<span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) +
 (<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)))
 mod (<span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) +
 (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span>)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk44"><span class="nb">change</span> (<span class="mi">2</span>^<span class="mi">32</span> * <span class="mi">2</span>^<span class="mi">32</span>) <span class="kr">with</span> (<span class="mi">2</span>^<span class="mi">64</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> +
 (<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> +
 (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span>)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk45"><span class="nb">rewrite</span> Zplus_mod_idemp_r, &lt;- Zplus_assoc, Zplus_mod_idemp_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) +
 ((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> +
  a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> =
(a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk46"><span class="kr">match goal with</span>
   |- (<span class="nl">?x</span> mod <span class="mi">2</span>^<span class="mi">64</span>) = _ =&gt; <span class="nb">replace</span> x <span class="kr">with</span>
  ((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span>^<span class="mi">64</span> +
  (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) + b mod <span class="mi">2</span> ^ <span class="mi">32</span>)))) <span class="bp">by</span> <span class="bp">ring</span>
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> +
 a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) + b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk47"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) mod <span class="mi">2</span> ^ <span class="mi">64</span> +
 a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk48"><span class="nb">change</span> (<span class="mi">2</span>^<span class="mi">64</span>) <span class="kr">with</span> (<span class="mi">2</span>^<span class="mi">32</span> * <span class="mi">2</span>^<span class="mi">32</span>) <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)))
 mod (<span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> =
(a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk49"><span class="nb">rewrite</span> Zmult_mod_distr_l, Zmult_mod_idemp_r, &lt;- Zmult_mod_distr_l, Zplus_mod_idemp_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk4a"><span class="kr">match goal with</span>
   |- (<span class="nl">?x</span> mod <span class="mi">2</span>^<span class="mi">64</span>) = _ =&gt; <span class="nb">replace</span> x <span class="kr">with</span>
  ((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span>) + (a mod <span class="mi">2</span> ^ <span class="mi">32</span>)) * b) <span class="bp">by</span> <span class="bp">ring</span>
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span>) + a mod <span class="mi">2</span> ^ <span class="mi">32</span>) * b)
mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk4b"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> = (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk4c">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) <span class="mi">32</span> +
         Z.shiftr (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
              <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>))) hi</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk4d"><span class="nb">rewrite</span> &lt;- (Z.shiftr_shiftr _ <span class="mi">32</span> <span class="mi">32</span>), !Z.shiftr_div_pow2 <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) +
         a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
         a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
         (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
          (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk4e"><span class="nb">rewrite</span> &lt;- Z.div_add_l <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        (((a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) +
           a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
           a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) *
          <span class="mi">2</span> ^ <span class="mi">32</span> +
          (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
           (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
           (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>)) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk4f"><span class="kr">match goal with</span>
   |- <span class="kp">context</span> [Int64.repr (<span class="nl">?x</span> / <span class="mi">2</span>^<span class="mi">32</span>)] =&gt; <span class="nb">replace</span> x <span class="kr">with</span>
   (((<span class="mi">2</span> ^ <span class="mi">32</span> * (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) + (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>) +
     (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>)) +
    (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) +
    (<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) + (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>))
   ) <span class="bp">by</span> <span class="bp">ring</span>
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        ((<span class="mi">2</span> ^ <span class="mi">32</span> *
          (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) +
          (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span> +
          a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) +
           (<span class="mi">2</span> ^ <span class="mi">32</span> *
            (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span>) +
            (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) mod <span class="mi">2</span> ^ <span class="mi">32</span>))) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk50"><span class="nb">rewrite</span> &lt;- !Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) +
          a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          (a / <span class="mi">2</span> ^ <span class="mi">32</span> * (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>)) +
           a / <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))) / <span class="mi">2</span> ^ <span class="mi">32</span>)))
  hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk51"><span class="nb">rewrite</span> &lt;- Z.mul_add_distr_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) +
          a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          a / <span class="mi">2</span> ^ <span class="mi">32</span> *
          (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) + b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk52"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) +
          a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk53"><span class="nb">rewrite</span> &lt;- Z.div_add_l <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        (((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) * <span class="mi">2</span> ^ <span class="mi">32</span> +
           a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk54"><span class="nb">rewrite</span> &lt;- Z.mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        (((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span>) +
           a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) / <span class="mi">2</span> ^ <span class="mi">32</span> +
          a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk55"><span class="nb">rewrite</span> &lt;- Z.mul_add_distr_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> *
          (b / <span class="mi">2</span> ^ <span class="mi">32</span> * <span class="mi">2</span> ^ <span class="mi">32</span> + b mod <span class="mi">2</span> ^ <span class="mi">32</span>) /
          <span class="mi">2</span> ^ <span class="mi">32</span> + a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk56"><span class="nb">rewrite</span> (Z.mul_comm _ (<span class="mi">2</span>^<span class="mi">32</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> *
          (<span class="mi">2</span> ^ <span class="mi">32</span> * (b / <span class="mi">2</span> ^ <span class="mi">32</span>) + b mod <span class="mi">2</span> ^ <span class="mi">32</span>) /
          <span class="mi">2</span> ^ <span class="mi">32</span> + a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk57"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        ((a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b / <span class="mi">2</span> ^ <span class="mi">32</span> + a / <span class="mi">2</span> ^ <span class="mi">32</span> * b) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk58"><span class="nb">rewrite</span> Z.add_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        ((a / <span class="mi">2</span> ^ <span class="mi">32</span> * b + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b / <span class="mi">2</span> ^ <span class="mi">32</span>) /
         <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk59"><span class="nb">rewrite</span> &lt;- Z.div_add_l <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        ((a / <span class="mi">2</span> ^ <span class="mi">32</span> * b * <span class="mi">2</span> ^ <span class="mi">32</span> + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b) /
         <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk5a"><span class="nb">rewrite</span> (Z.mul_comm _ (<span class="mi">2</span>^<span class="mi">32</span>)), Z.mul_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        ((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span>) * b + a mod <span class="mi">2</span> ^ <span class="mi">32</span> * b) /
         <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk5b"><span class="nb">rewrite</span> &lt;- Z.mul_add_distr_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong
     (Int64.repr
        ((<span class="mi">2</span> ^ <span class="mi">32</span> * (a / <span class="mi">2</span> ^ <span class="mi">32</span>) + a mod <span class="mi">2</span> ^ <span class="mi">32</span>) * b /
         <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk5c"><span class="nb">rewrite</span> &lt;- Z_div_mod_eq <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNhi</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null hi</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr a <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span> +
         Z.shiftr (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
           <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
         Z.shiftr
           (Z.shiftr
              (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>)) <span class="mi">32</span> +
            (a mod <span class="mi">2</span> ^ <span class="mi">32</span> * Z.shiftr b <span class="mi">32</span>)
            mod <span class="mi">2</span> ^ <span class="mi">32</span> +
            (Z.shiftr a <span class="mi">32</span> * (b mod <span class="mi">2</span> ^ <span class="mi">32</span>))
            mod <span class="mi">2</span> ^ <span class="mi">32</span>) <span class="mi">32</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh tlong
  (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>))) hi
|-- data_at sh tlong
      (Vlong (Int64.repr (a * b / <span class="mi">2</span> ^ <span class="mi">32</span> / <span class="mi">2</span> ^ <span class="mi">32</span>)))
      hi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">entailer!.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk5d"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_u128_mul_spec</span>: semax_body Vprog Gprog f_secp256k1_u128_mul secp256k1_u128_mul_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_mul
  secp256k1_u128_mul_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk5e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_mul
  secp256k1_u128_mul_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk5f">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at_ sh t_secp256k1_uint128 r))
  (_t&#39;1 =
     _secp256k1_umul128
     ([(_a)%expr; (_b)%expr; (&amp;(_r-&gt;_hi))%expr]);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk60">unfold_data_at (data_at_ sh t_secp256k1_uint128 r).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (field_at sh t_secp256k1_uint128 (DOT _lo)
          (fst
             (default_val
                (nested_field_type t_secp256k1_uint128
                   []))) r;
   field_at sh t_secp256k1_uint128 (DOT _hi)
     (snd
        (default_val
           (nested_field_type t_secp256k1_uint128 [])))
     r))
  (_t&#39;1 =
     _secp256k1_umul128
     ([(_a)%expr; (_b)%expr; (&amp;(_r-&gt;_hi))%expr]);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk61"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (field_at sh t_secp256k1_uint128 (DOT _lo)
          Vundef r;
   field_at sh t_secp256k1_uint128 (DOT _hi) Vundef r))
  (_t&#39;1 =
     _secp256k1_umul128
     ([(_a)%expr; (_b)%expr; (&amp;(_r-&gt;_hi))%expr]);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk62"><span class="nb">rewrite</span> (field_at_data_at _ _ (DOT _hi)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (field_at sh t_secp256k1_uint128 (DOT _lo)
          Vundef r;
   data_at sh
     (nested_field_type t_secp256k1_uint128 (DOT _hi))
     Vundef
     (field_address t_secp256k1_uint128 (DOT _hi) r)))
  (_t&#39;1 =
     _secp256k1_umul128
     ([(_a)%expr; (_b)%expr; (&amp;(_r-&gt;_hi))%expr]);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk63">assert_PROP (field_compatible t_secp256k1_uint128 (DOT _hi) r) <span class="bp">by</span>
 entailer!.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 (DOT _hi) r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (field_at sh t_secp256k1_uint128 (DOT _lo)
          Vundef r;
   data_at sh
     (nested_field_type t_secp256k1_uint128 (DOT _hi))
     Vundef
     (field_address t_secp256k1_uint128 (DOT _hi) r)))
  (_t&#39;1 =
     _secp256k1_umul128
     ([(_a)%expr; (_b)%expr; (&amp;(_r-&gt;_hi))%expr]);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk64">forward_call (a, b, (field_address t_secp256k1_uint128 (DOT _hi) r), sh).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 (DOT _hi) r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;1 (Vlong (Int64.repr (a * b)));
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at sh tulong
          (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
          (field_address t_secp256k1_uint128 (DOT _hi)
             r);
   field_at sh t_secp256k1_uint128 (DOT _lo) Vundef r))
  ((_r-&gt;_lo) = _t&#39;1;) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk65">forward.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 (DOT _hi) r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ENTAIL Delta,
PROP ( )
LOCAL (temp _t&#39;1 (Vlong (Int64.repr (a * b)));
temp _r r; temp _a (Vlong (Int64.repr a));
temp _b (Vlong (Int64.repr b)))
SEP (data_at sh tulong
       (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
       (field_address t_secp256k1_uint128 (DOT _hi) r);
field_at sh t_secp256k1_uint128 (DOT _lo)
  (Vlong (Int64.repr (a * b))) r)
|-- PROP ( )
    RETURN ( ) SEP (secp256k1_uint128_at sh (a * b) r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk66"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 (DOT _hi) r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ENTAIL Delta,
PROP ( )
LOCAL (temp _t&#39;1 (Vlong (Int64.repr (a * b)));
temp _r r; temp _a (Vlong (Int64.repr a));
temp _b (Vlong (Int64.repr b)))
SEP (data_at sh tulong
       (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
       (field_address t_secp256k1_uint128 (DOT _hi) r);
field_at sh t_secp256k1_uint128 (DOT _lo)
  (Vlong (Int64.repr (a * b))) r)
|-- PROP ( )
    RETURN ( ) SEP (data_at sh t_secp256k1_uint128
                      (Vlong (Int64.repr (a * b)),
                      Vlong
                        (Int64.repr
                           (Z.shiftr (a * b) <span class="mi">64</span>))) r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk67">unfold_data_at (data_at sh t_secp256k1_uint128 _ r).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 (DOT _hi) r</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ENTAIL Delta,
PROP ( )
LOCAL (temp _t&#39;1 (Vlong (Int64.repr (a * b)));
temp _r r; temp _a (Vlong (Int64.repr a));
temp _b (Vlong (Int64.repr b)))
SEP (data_at sh tulong
       (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
       (field_address t_secp256k1_uint128 (DOT _hi) r);
field_at sh t_secp256k1_uint128 (DOT _lo)
  (Vlong (Int64.repr (a * b))) r)
|-- PROP ( )
    RETURN ( ) SEP (field_at sh t_secp256k1_uint128
                      (DOT _lo)
                      (Vlong (Int64.repr (a * b))) r *
                    field_at sh t_secp256k1_uint128
                      (DOT _hi)
                      (Vlong
                         (Int64.repr
                            (Z.shiftr (a * b) <span class="mi">64</span>))) r)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">entailer!.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk68"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_u128_accum_mul_spec</span>: semax_body Vprog Gprog f_secp256k1_u128_accum_mul secp256k1_u128_accum_mul_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_accum_mul
  secp256k1_u128_accum_mul_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk69"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_accum_mul
  secp256k1_u128_accum_mul_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk6a">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (lvar _hi tulong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at_ Tsh tulong v_hi;
   secp256k1_uint128_at sh r0 r))
  ((_t&#39;1 =
      _secp256k1_umul128
      ([(_a)%expr; (_b)%expr; (&amp;_hi)%expr]);
    _lo = _t&#39;1;)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk6b">forward_call.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tulong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tulong
          (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
          v_hi; secp256k1_uint128_at sh r0 r))
  ((_t&#39;5 = (_r-&gt;_lo);
    (_r-&gt;_lo) = (_t&#39;5 + _lo);)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk6c"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tulong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tulong
          (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
          v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_lo);
    (_r-&gt;_lo) = (_t&#39;5 + _lo);)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk6d"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Pv_hi</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>HPv_hi</var><span class="hyp-type"><b>: </b><span>headptr v_hi</span></span></span><br><span><var>Pv_hi0</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] v_hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  force_val
    (both_long
       (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
        Some (Vlong (Int64.add n1 n2)))
       sem_cast_pointer sem_cast_pointer
       (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
       (force_val
          (both_long
             (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
              Some (Vlong (Int64.add n1 n2)))
             sem_cast_pointer
             (sem_cast_i2l Signed)
             (Vlong
                (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
             (Val.of_bool
                (Int64.ltu
                   (Int64.repr (r0 + a * b))
                   (Int64.repr (a * b))))))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))))) r
|-- secp256k1_uint128_at sh (r0 + a * b) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk6e"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Pv_hi</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>HPv_hi</var><span class="hyp-type"><b>: </b><span>headptr v_hi</span></span></span><br><span><var>Pv_hi0</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] v_hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  force_val
    (both_long
       (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
        Some (Vlong (Int64.add n1 n2)))
       sem_cast_pointer sem_cast_pointer
       (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
       (force_val
          (both_long
             (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
              Some (Vlong (Int64.add n1 n2)))
             sem_cast_pointer
             (sem_cast_i2l Signed)
             (Vlong
                (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
             (Val.of_bool
                (Int64.ltu
                   (Int64.repr (r0 + a * b))
                   (Int64.repr (a * b))))))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (r0 + a * b)),
      Vlong (Int64.repr (Z.shiftr (r0 + a * b) <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk6f"><span class="nb">rewrite</span> Z.add_assoc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Pv_hi</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>HPv_hi</var><span class="hyp-type"><b>: </b><span>headptr v_hi</span></span></span><br><span><var>Pv_hi0</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] v_hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  force_val
    (both_long
       (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
        Some (Vlong (Int64.add n1 n2)))
       sem_cast_pointer sem_cast_pointer
       (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
       (force_val
          (both_long
             (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
              Some (Vlong (Int64.add n1 n2)))
             sem_cast_pointer
             (sem_cast_i2l Signed)
             (Vlong
                (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
             (Val.of_bool
                (Int64.ltu
                   (Int64.repr (r0 + a * b))
                   (Int64.repr (a * b))))))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> + Z.shiftr (a * b) <span class="mi">64</span> +
        Z.b2z
          ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
           (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (r0 + a * b)),
      Vlong (Int64.repr (Z.shiftr (r0 + a * b) <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk70"><span class="nb">rewrite</span> &lt;- shiftr_add_carry <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= b &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Pv_hi</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>HPv_hi</var><span class="hyp-type"><b>: </b><span>headptr v_hi</span></span></span><br><span><var>Pv_hi0</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>field_compatible tulong [] v_hi</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tulong
  (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  force_val
    (both_long
       (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
        Some (Vlong (Int64.add n1 n2)))
       sem_cast_pointer sem_cast_pointer
       (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
       (force_val
          (both_long
             (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
              Some (Vlong (Int64.add n1 n2)))
             sem_cast_pointer
             (sem_cast_i2l Signed)
             (Vlong
                (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
             (Val.of_bool
                (Int64.ltu
                   (Int64.repr (r0 + a * b))
                   (Int64.repr (a * b))))))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong (Int64.repr (Z.shiftr (r0 + a * b) <span class="mi">64</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (r0 + a * b)),
      Vlong (Int64.repr (Z.shiftr (r0 + a * b) <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">entailer!.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk71"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_u128_accum_u64</span>: semax_body Vprog Gprog f_secp256k1_u128_accum_u64 secp256k1_u128_accum_u64_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_accum_u64
  secp256k1_u128_accum_u64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk72"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_accum_u64
  secp256k1_u128_accum_u64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk73">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _a (Vlong (Int64.repr a)))
   SEP (secp256k1_uint128_at sh r0 r))
  ((_t&#39;3 = (_r-&gt;_lo);
    (_r-&gt;_lo) = (_t&#39;3 + _a);)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk74"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _a (Vlong (Int64.repr a)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;3 = (_r-&gt;_lo);
    (_r-&gt;_lo) = (_t&#39;3 + _a);)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk75"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  force_val
    (both_long
       (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
        Some (Vlong (Int64.add n1 n2)))
       sem_cast_pointer 
       (sem_cast_i2l Signed)
       (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
       (Val.of_bool
          (Int64.ltu (Int64.repr (r0 + a))
             (Int64.repr a)))))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        Z.b2z ((r0 + a) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? a))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        Z.b2z ((r0 + a) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? a)))) r
|-- secp256k1_uint128_at sh (r0 + a) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk76"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  force_val
    (both_long
       (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
        Some (Vlong (Int64.add n1 n2)))
       sem_cast_pointer 
       (sem_cast_i2l Signed)
       (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
       (Val.of_bool
          (Int64.ltu (Int64.repr (r0 + a))
             (Int64.repr a)))))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        Z.b2z ((r0 + a) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? a))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        Z.b2z ((r0 + a) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? a)))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (r0 + a)),
      Vlong (Int64.repr (Z.shiftr (r0 + a) <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk77"><span class="nb">rewrite</span> shiftr_add_carry <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  force_val
    (both_long
       (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
        Some (Vlong (Int64.add n1 n2)))
       sem_cast_pointer 
       (sem_cast_i2l Signed)
       (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
       (Val.of_bool
          (Int64.ltu (Int64.repr (r0 + a))
             (Int64.repr a)))))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        Z.b2z ((r0 + a) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? a))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        Z.b2z ((r0 + a) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? a)))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (r0 + a)),
      Vlong
        (Int64.repr
           (Z.shiftr r0 <span class="mi">64</span> + Z.shiftr a <span class="mi">64</span> +
            Z.b2z
              ((r0 + a) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? a mod <span class="mi">2</span> ^ <span class="mi">64</span>))))
      r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk78"><span class="nb">rewrite</span> (shiftr_small a), Z.add_0_r, (Z.mod_small a) <span class="bp">by</span> solve_bounds.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  force_val
    (both_long
       (<span class="kr">fun</span> <span class="nv">n1</span> <span class="nv">n2</span> : int64 =&gt;
        Some (Vlong (Int64.add n1 n2)))
       sem_cast_pointer 
       (sem_cast_i2l Signed)
       (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
       (Val.of_bool
          (Int64.ltu (Int64.repr (r0 + a))
             (Int64.repr a)))))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        Z.b2z ((r0 + a) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? a))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        Z.b2z ((r0 + a) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? a)))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (r0 + a)),
      Vlong
        (Int64.repr
           (Z.shiftr r0 <span class="mi">64</span> +
            Z.b2z ((r0 + a) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? a)))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">entailer!.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk79"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_u128_rshift</span>: semax_body Vprog Gprog f_secp256k1_u128_rshift secp256k1_u128_rshift_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_rshift
  secp256k1_u128_rshift_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk7a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_rshift
  secp256k1_u128_rshift_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk7b">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     <span class="kr">if</span> (!(_n &lt; (<span class="mi">128</span>))) {
       <span class="kr">for</span> (;
       ;
       break;) {
         ((_t&#39;5 = _stderr;
           _fprintf
             ([(_t&#39;5)%expr; (___stringlit_3)%expr;
              (___stringlit_2)%expr; ((<span class="mi">67</span>))%expr;
              (___stringlit_1)%expr]);)
          _abort([]);)
       }
     }
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk7c">forward_verify_check.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>typed_true tint
  (eval_unop Onotbool tint
     (Val.of_bool
        (Int.ltu (Int.repr n) (Int.repr <span class="mi">128</span>))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk7d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk7d"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;4 = (_r-&gt;_hi);
       (_r-&gt;_lo) = _t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>));)
      (_r-&gt;_hi) = (<span class="mi">0</span>);)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = _t&#39;1 &gt;&gt; _n;)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_u128_rshift)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk7e"><span class="nb">revert</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Val.of_bool
        (Int.ltu (Int.repr n) (Int.repr <span class="mi">128</span>)))) -&gt;
<span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk7f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk7f"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;4 = (_r-&gt;_hi);
       (_r-&gt;_lo) = _t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>));)
      (_r-&gt;_hi) = (<span class="mi">0</span>);)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = _t&#39;1 &gt;&gt; _n;)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_u128_rshift)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk80">convert_C_to_math.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint (Int.repr (Z.b2z (n &lt;? <span class="mi">128</span>))))) -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk81" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk81"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;4 = (_r-&gt;_hi);
       (_r-&gt;_lo) = _t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>));)
      (_r-&gt;_hi) = (<span class="mi">0</span>);)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = _t&#39;1 &gt;&gt; _n;)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_u128_rshift)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk82"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (Val.of_bool
     (negb
        (negb
           (Int.eq (Int.repr (Z.b2z (n &lt;? <span class="mi">128</span>)))
              Int.zero)))) -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk83" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk83"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;4 = (_r-&gt;_hi);
       (_r-&gt;_lo) = _t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>));)
      (_r-&gt;_hi) = (<span class="mi">0</span>);)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = _t&#39;1 &gt;&gt; _n;)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_u128_rshift)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk84"><span class="nb">intros</span> H1; <span class="nb">apply</span> typed_true_of_bool <span class="kr">in</span> H1; <span class="nb">revert</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">negb
  (negb
     (Int.eq (Int.repr (Z.b2z (n &lt;? <span class="mi">128</span>))) Int.zero)) =
true -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk85" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk85"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;4 = (_r-&gt;_hi);
       (_r-&gt;_lo) = _t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>));)
      (_r-&gt;_hi) = (<span class="mi">0</span>);)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = _t&#39;1 &gt;&gt; _n;)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_u128_rshift)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk86"><span class="nb">case</span> Z.ltb_spec;[<span class="bp">discriminate</span>|<span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;4 = (_r-&gt;_hi);
       (_r-&gt;_lo) = _t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>));)
      (_r-&gt;_hi) = (<span class="mi">0</span>);)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = _t&#39;1 &gt;&gt; _n;)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                        (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_u128_rshift)%logic)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk87"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; Int128_modulus</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;4 = (_r-&gt;_hi);
       (_r-&gt;_lo) = _t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>));)
      (_r-&gt;_hi) = (<span class="mi">0</span>);)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = _t&#39;1 &gt;&gt; _n;)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (data_at sh t_secp256k1_uint128
                        (Vlong
                           (Int64.repr (Z.shiftr r0 n)),
                        Vlong
                          (Int64.repr
                             (Z.shiftr (Z.shiftr r0 n)
                                <span class="mi">64</span>))) r) *
      stackframe_of f_secp256k1_u128_rshift)%logic)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk88">unfold_Int128.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;4 = (_r-&gt;_hi);
       (_r-&gt;_lo) = _t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>));)
      (_r-&gt;_hi) = (<span class="mi">0</span>);)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = _t&#39;1 &gt;&gt; _n;)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (data_at sh t_secp256k1_uint128
                        (Vlong
                           (Int64.repr (Z.shiftr r0 n)),
                        Vlong
                          (Int64.repr
                             (Z.shiftr (Z.shiftr r0 n)
                                <span class="mi">64</span>))) r) *
      stackframe_of f_secp256k1_u128_rshift)%logic)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk89"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong (Int64.repr (Int.signed (Int.repr <span class="mi">0</span>))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong (Int64.repr <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong (Int64.repr <span class="mi">0</span>)) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk8a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk8a"><hr></label><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk8b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk8b"><hr></label><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk8c">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong (Int64.repr (Int.signed (Int.repr <span class="mi">0</span>))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong (Int64.repr <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong (Int64.repr <span class="mi">0</span>)) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk8d"><span class="nb">rewrite</span> !Z.shiftr_shiftr <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong (Int64.repr (Int.signed (Int.repr <span class="mi">0</span>))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong (Int64.repr <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (Z.shiftr r0 (<span class="mi">64</span> + (n - <span class="mi">64</span>)))),
  Vlong (Int64.repr <span class="mi">0</span>)) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr r0 (n + <span class="mi">64</span>)))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk8e"><span class="nb">replace</span> (<span class="mi">64</span> + (n - <span class="mi">64</span>)) <span class="kr">with</span> n <span class="bp">by</span> <span class="bp">ring</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong (Int64.repr (Int.signed (Int.repr <span class="mi">0</span>))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong (Int64.repr <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (Z.shiftr r0 n)),
  Vlong (Int64.repr <span class="mi">0</span>)) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr r0 (n + <span class="mi">64</span>)))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk8f"><span class="nb">rewrite</span> (shiftr_small _ (n + <span class="mi">64</span>));[entailer!|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong (Int64.repr (Int.signed (Int.repr <span class="mi">0</span>))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong (Int64.repr <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ (n + <span class="mi">64</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk90"><span class="nb">cut</span> (<span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span>^<span class="mi">128</span>);[|solve_bounds].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong (Int64.repr (Int.signed (Int.repr <span class="mi">0</span>))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong (Int64.repr <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span> -&gt; <span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ (n + <span class="mi">64</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk91"><span class="nb">assert</span> (<span class="mi">2</span>^<span class="mi">128</span> &lt;= <span class="mi">2</span>^(n+<span class="mi">64</span>)) <span class="bp">by</span> (<span class="nb">apply</span> Z.pow_le_mono_r;<span class="bp">lia</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong (Int64.repr (Int.signed (Int.repr <span class="mi">0</span>))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong (Int64.repr <span class="mi">0</span>))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">128</span> &lt;= <span class="mi">2</span> ^ (n + <span class="mi">64</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span> -&gt; <span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ (n + <span class="mi">64</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk92">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk93"><span class="nb">rewrite</span> !Z.shiftr_shiftr <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong (Int64.repr (Z.shiftr r0 (<span class="mi">64</span> + n)))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr r0 (n + <span class="mi">64</span>)))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk94"><span class="nb">rewrite</span> Z.add_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong (Int64.repr (Z.shiftr r0 (n + <span class="mi">64</span>)))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr r0 (n + <span class="mi">64</span>)))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk95"><span class="nb">replace</span> (Int64.repr (Z.lor _ _)) <span class="kr">with</span> (Int64.repr (Z.shiftr r0 n));[entailer!|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 n) =
Int64.repr
  (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk96"><span class="nb">rewrite</span> &lt;- Z.shiftl_mul_pow2 <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 n) =
Int64.repr
  (Z.lor (Z.shiftl (Z.shiftr r0 <span class="mi">64</span>) (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk97"><span class="nb">apply</span> Int64.eqm_samerepr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.eqm (Z.shiftr r0 n)
  (Z.lor (Z.shiftl (Z.shiftr r0 <span class="mi">64</span>) (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk98"><span class="nb">apply</span> Int64.eqm_same_bits.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">i</span> : Z,
<span class="mi">0</span> &lt;= i &lt; Int64.zwordsize -&gt;
Z.testbit (Z.shiftr r0 n) i =
Z.testbit
  (Z.lor (Z.shiftl (Z.shiftr r0 <span class="mi">64</span>) (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk99"><span class="nb">change</span> Int64.zwordsize <span class="kr">with</span> <span class="mi">64</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">i</span> : Z,
<span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span> -&gt;
Z.testbit (Z.shiftr r0 n) i =
Z.testbit
  (Z.lor (Z.shiftl (Z.shiftr r0 <span class="mi">64</span>) (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk9a"><span class="nb">intros</span> i Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit (Z.shiftr r0 n) i =
Z.testbit
  (Z.lor (Z.shiftl (Z.shiftr r0 <span class="mi">64</span>) (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk9b"><span class="nb">rewrite</span> Z.lor_spec, !Z.shiftr_spec, Z.shiftl_spec <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit (Z.shiftr r0 <span class="mi">64</span>) (i - (<span class="mi">64</span> - n))
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk9c"><span class="nb">destruct</span> (Z.neg_nonneg_cases (i - (<span class="mi">64</span> - n))) <span class="kr">as</span> [Hneg|Hpos].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hneg</var><span class="hyp-type"><b>: </b><span>i - (<span class="mi">64</span> - n) &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit (Z.shiftr r0 <span class="mi">64</span>) (i - (<span class="mi">64</span> - n))
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk9d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk9d"><hr></label><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit (Z.shiftr r0 <span class="mi">64</span>) (i - (<span class="mi">64</span> - n))
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk9e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hneg</var><span class="hyp-type"><b>: </b><span>i - (<span class="mi">64</span> - n) &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit (Z.shiftr r0 <span class="mi">64</span>) (i - (<span class="mi">64</span> - n))
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk9f"><span class="nb">rewrite</span> (Z.testbit_neg_r _ _ Hneg).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hneg</var><span class="hyp-type"><b>: </b><span>i - (<span class="mi">64</span> - n) &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(false || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chka0"><span class="nb">rewrite</span> Z.mod_pow2_bits_low <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hneg</var><span class="hyp-type"><b>: </b><span>i - (<span class="mi">64</span> - n) &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(false || Z.testbit r0 (i + n))%bool</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chka1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit (Z.shiftr r0 <span class="mi">64</span>) (i - (<span class="mi">64</span> - n))
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chka2"><span class="nb">rewrite</span> Z.shiftr_spec <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit r0 (i - (<span class="mi">64</span> - n) + <span class="mi">64</span>)
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chka3"><span class="nb">rewrite</span> Z.mod_pow2_bits_high, orb_false_r <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
Z.testbit r0 (i - (<span class="mi">64</span> - n) + <span class="mi">64</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chka4"><span class="nb">replace</span> (i - (<span class="mi">64</span> - n) + <span class="mi">64</span>) <span class="kr">with</span> (i + n) <span class="bp">by</span> <span class="bp">ring</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shru (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) = Z.testbit r0 (i + n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chka5">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chka6"><span class="nb">replace</span> n <span class="kr">with</span> <span class="mi">0</span> <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">0</span>)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">0</span>) <span class="mi">64</span>)))
      r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chka7"><span class="nb">rewrite</span> Z.shiftr_0_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr r0),
      Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">entailer!.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chka8"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_u128_to_u64</span>: semax_body Vprog Gprog f_secp256k1_u128_to_u64 secp256k1_u128_to_u64_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_to_u64
  secp256k1_u128_to_u64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chka9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_to_u64
  secp256k1_u128_to_u64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkaa">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a r)
   SEP (secp256k1_uint128_at sh r0 r))
  (_t&#39;1 = (_a-&gt;_lo);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkab"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a r)
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;1 = (_a-&gt;_lo);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">repeat</span> progressC.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkac"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_u128_hi_u64</span>: semax_body Vprog Gprog f_secp256k1_u128_hi_u64 secp256k1_u128_hi_u64_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_hi_u64
  secp256k1_u128_hi_u64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkad"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_hi_u64
  secp256k1_u128_hi_u64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkae">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a r)
   SEP (secp256k1_uint128_at sh r0 r))
  (_t&#39;1 = (_a-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkaf"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a r)
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;1 = (_a-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">repeat</span> progressC.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkb0"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_u128_from_u64</span>: semax_body Vprog Gprog f_secp256k1_u128_from_u64 secp256k1_u128_from_u64_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_from_u64
  secp256k1_u128_from_u64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkb1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_from_u64
  secp256k1_u128_from_u64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkb2">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; Int64.modulus</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _a (Vlong (Int64.repr a)))
   SEP (data_at_ sh t_secp256k1_uint128 r))
  ((_r-&gt;_hi) = (<span class="mi">0</span>);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkb3"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Int.signed (Int.repr <span class="mi">0</span>))))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a), Vlong (Int64.repr <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr a), Vlong (Int64.repr <span class="mi">0</span>)) r
|-- secp256k1_uint128_at sh a r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkb4"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Int.signed (Int.repr <span class="mi">0</span>))))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a), Vlong (Int64.repr <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr a), Vlong (Int64.repr <span class="mi">0</span>)) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr a),
      Vlong (Int64.repr (Z.shiftr a <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkb5"><span class="nb">replace</span> (Z.shiftr a <span class="mi">64</span>) <span class="kr">with</span> <span class="mi">0</span>;[entailer!|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a &lt; <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Int.signed (Int.repr <span class="mi">0</span>))))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a), Vlong (Int64.repr <span class="mi">0</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> = Z.shiftr a <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">symmetry</span>; <span class="nb">auto using</span> shiftr_small.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkb6"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_u128_check_bits</span>: semax_body Vprog Gprog f_secp256k1_u128_check_bits secp256k1_u128_check_bits_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_check_bits
  secp256k1_u128_check_bits_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkb7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_u128_check_bits
  secp256k1_u128_check_bits_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkb8">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     <span class="kr">if</span> (!(_n &lt; (<span class="mi">128</span>))) {
       <span class="kr">for</span> (;
       ;
       break;) {
         ((_t&#39;5 = _stderr;
           _fprintf
             ([(_t&#39;5)%expr; (___stringlit_3)%expr;
              (___stringlit_2)%expr; ((<span class="mi">91</span>))%expr;
              (___stringlit_1)%expr]);)
          _abort([]);)
       }
     }
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkb9">forward_verify_check.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>typed_true tint
  (eval_unop Onotbool tint
     (Val.of_bool
        (Int.ltu (Int.repr n) (Int.repr <span class="mi">128</span>))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkba"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      _t&#39;1 = (tint) (_t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>)) == (<span class="mi">0</span>));)
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 &gt;&gt; _n == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkbb"><span class="nb">revert</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Val.of_bool
        (Int.ltu (Int.repr n) (Int.repr <span class="mi">128</span>)))) -&gt;
<span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkbc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkbc"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      _t&#39;1 = (tint) (_t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>)) == (<span class="mi">0</span>));)
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 &gt;&gt; _n == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkbd">convert_C_to_math.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint (Int.repr (Z.b2z (n &lt;? <span class="mi">128</span>))))) -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkbe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkbe"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      _t&#39;1 = (tint) (_t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>)) == (<span class="mi">0</span>));)
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 &gt;&gt; _n == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkbf"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (Val.of_bool
     (negb
        (negb
           (Int.eq (Int.repr (Z.b2z (n &lt;? <span class="mi">128</span>)))
              Int.zero)))) -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkc0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkc0"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      _t&#39;1 = (tint) (_t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>)) == (<span class="mi">0</span>));)
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 &gt;&gt; _n == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkc1"><span class="nb">intros</span> H1; <span class="nb">apply</span> typed_true_of_bool <span class="kr">in</span> H1; <span class="nb">revert</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">negb
  (negb
     (Int.eq (Int.repr (Z.b2z (n &lt;? <span class="mi">128</span>))) Int.zero)) =
true -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkc2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkc2"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      _t&#39;1 = (tint) (_t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>)) == (<span class="mi">0</span>));)
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 &gt;&gt; _n == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkc3"><span class="nb">case</span> Z.ltb_spec;[<span class="bp">discriminate</span>|<span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      _t&#39;1 = (tint) (_t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>)) == (<span class="mi">0</span>));)
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 &gt;&gt; _n == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkc4"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      _t&#39;1 = (tint) (_t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>)) == (<span class="mi">0</span>));)
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 &gt;&gt; _n == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkc5"><span class="nb">assert</span> (shiftr_small_eq : (r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)) <span class="bp">by</span>
  (<span class="nb">case</span> Z.eqb_spec; <span class="nb">intros</span> Heq; <span class="nb">rewrite</span> shiftr_small_iff <span class="kr">in</span> Heq; <span class="bp">lia</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      _t&#39;1 = (tint) (_t&#39;4 &gt;&gt; (_n - (<span class="mi">64</span>)) == (<span class="mi">0</span>));)
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 &gt;&gt; _n == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkc6">forward_if (temp _t&#39;1 (Vint (Int.repr (Z.b2z (r0 &lt;? <span class="mi">2</span>^n)))));[| |forward].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkc7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkc7"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;2 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkc8">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkc9"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (eval_binop Oeq tulong tint
           (eval_binop Oshr tulong tuint
              (Vlong
                 (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
              (eval_binop Osub tuint tint
                 (Vint (Int.repr n))
                 (Vint (Int.repr <span class="mi">64</span>))))
           (Vint (Int.repr <span class="mi">0</span>)))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 &lt;? <span class="mi">2</span> ^ n))) =
Vint
  (Int.repr
     (Z.b2z (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>) =? <span class="mi">0</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkca"><span class="kp">do</span> <span class="mi">3</span> <span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (eval_binop Oeq tulong tint
           (eval_binop Oshr tulong tuint
              (Vlong
                 (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
              (eval_binop Osub tuint tint
                 (Vint (Int.repr n))
                 (Vint (Int.repr <span class="mi">64</span>))))
           (Vint (Int.repr <span class="mi">0</span>)))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r0 &lt;? <span class="mi">2</span> ^ n) =
(Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>) =? <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkcb"><span class="nb">rewrite</span> !Z.shiftr_shiftr <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (eval_binop Oeq tulong tint
           (eval_binop Oshr tulong tuint
              (Vlong
                 (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
              (eval_binop Osub tuint tint
                 (Vint (Int.repr n))
                 (Vint (Int.repr <span class="mi">64</span>))))
           (Vint (Int.repr <span class="mi">0</span>)))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 (<span class="mi">64</span> + (n - <span class="mi">64</span>)) =? <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkcc"><span class="nb">replace</span> (<span class="mi">64</span> + (n - <span class="mi">64</span>)) <span class="kr">with</span> n <span class="bp">by</span> <span class="bp">ring</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (eval_binop Oeq tulong tint
           (eval_binop Oshr tulong tuint
              (Vlong
                 (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))
              (eval_binop Osub tuint tint
                 (Vint (Int.repr n))
                 (Vint (Int.repr <span class="mi">64</span>))))
           (Vint (Int.repr <span class="mi">0</span>)))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">assumption</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkcd">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;2 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkce"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (eval_binop Oshr tulong tuint
                    (Vlong (Int64.repr r0))
                    (Vint (Int.repr n)))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 &lt;? <span class="mi">2</span> ^ n))) =
Vint
  (Int.repr (Z.b2z (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =? <span class="mi">0</span>)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkcf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkcf"><hr></label><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 &lt;? <span class="mi">2</span> ^ n))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkd0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (eval_binop Oshr tulong tuint
                    (Vlong (Int64.repr r0))
                    (Vint (Int.repr n)))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 &lt;? <span class="mi">2</span> ^ n))) =
Vint
  (Int.repr (Z.b2z (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =? <span class="mi">0</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkd1"><span class="nb">rewrite</span> shiftr_small_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (eval_binop Oshr tulong tuint
                    (Vlong (Int64.repr r0))
                    (Vint (Int.repr n)))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (Z.shiftr r0 n =? <span class="mi">0</span>))) =
Vint
  (Int.repr (Z.b2z (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =? <span class="mi">0</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkd2"><span class="nb">rewrite</span> (Z_div_mod_eq_full r0 (<span class="mi">2</span>^<span class="mi">64</span>)) <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (eval_binop Oshr tulong tuint
                    (Vlong (Int64.repr r0))
                    (Vint (Int.repr n)))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z
        (Z.shiftr
           (<span class="mi">2</span> ^ <span class="mi">64</span> * (r0 / <span class="mi">2</span> ^ <span class="mi">64</span>) + r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =?
         <span class="mi">0</span>))) =
Vint
  (Int.repr (Z.b2z (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =? <span class="mi">0</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkd3"><span class="nb">rewrite</span> &lt;- Z.shiftr_div_pow2 <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (eval_binop Oshr tulong tuint
                    (Vlong (Int64.repr r0))
                    (Vint (Int.repr n)))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z
        (Z.shiftr
           (<span class="mi">2</span> ^ <span class="mi">64</span> * Z.shiftr r0 <span class="mi">64</span> + r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =?
         <span class="mi">0</span>))) =
Vint
  (Int.repr (Z.b2z (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =? <span class="mi">0</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkd4"><span class="nb">apply</span> (<span class="nb">f_equal</span> Int64.unsigned) <span class="kr">in</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.unsigned (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)) =
Int64.unsigned Int64.zero</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (eval_binop Oshr tulong tuint
                    (Vlong (Int64.repr r0))
                    (Vint (Int.repr n)))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z
        (Z.shiftr
           (<span class="mi">2</span> ^ <span class="mi">64</span> * Z.shiftr r0 <span class="mi">64</span> + r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =?
         <span class="mi">0</span>))) =
Vint
  (Int.repr (Z.b2z (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =? <span class="mi">0</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkd5"><span class="nb">revert</span> H2; convert_C_to_math; <span class="nb">intros</span> -&gt;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (eval_binop Oshr tulong tuint
                    (Vlong (Int64.repr r0))
                    (Vint (Int.repr n)))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z
        (Z.shiftr (<span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">0</span> + r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =? <span class="mi">0</span>))) =
Vint
  (Int.repr (Z.b2z (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =? <span class="mi">0</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkd6"><span class="nb">replace</span> (_ + r0 mod <span class="mi">2</span>^<span class="mi">64</span>) <span class="kr">with</span> (r0 mod <span class="mi">2</span>^<span class="mi">64</span>) <span class="bp">by</span> <span class="bp">ring</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (eval_binop Oshr tulong tuint
                    (Vlong (Int64.repr r0))
                    (Vint (Int.repr n)))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr (Z.b2z (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =? <span class="mi">0</span>))) =
Vint
  (Int.repr (Z.b2z (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n =? <span class="mi">0</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkd7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 &lt;? <span class="mi">2</span> ^ n))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkd8"><span class="nb">rewrite</span> shiftr_small_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (Z.shiftr r0 n =? <span class="mi">0</span>))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkd9"><span class="nb">case</span> (Z.eqb_spec);[|<span class="bp">reflexivity</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.shiftr r0 n = <span class="mi">0</span> -&gt;
Vint (Int.repr (Z.b2z true)) = Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkda"><span class="nb">intros</span> Hr0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 n = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z true)) = Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkdb"><span class="nb">elim</span> H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 n = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.repr <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkdc"><span class="nb">replace</span> <span class="mi">64</span> <span class="kr">with</span> (n + (<span class="mi">64</span> - n)) <span class="bp">by</span> <span class="bp">ring</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 n = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 (n + (<span class="mi">64</span> - n))) = Int64.repr <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkdd"><span class="nb">rewrite</span> &lt;- Z.shiftr_shiftr, Hr0, Z.shiftr_0_l <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= r0 &lt; <span class="mi">2</span> ^ <span class="mi">128</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>shiftr_small_eq</var><span class="hyp-type"><b>: </b><span>(r0 &lt;? <span class="mi">2</span> ^ n) = (Z.shiftr r0 n =? <span class="mi">0</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 n = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr <span class="mi">0</span> = Int64.repr <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkde"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_i128_mul_spec</span>: semax_body Vprog Gprog f_secp256k1_i128_mul secp256k1_i128_mul_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_mul
  secp256k1_i128_mul_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkdf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_mul
  secp256k1_i128_mul_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chke0">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at_ Tsh tlong v_hi;
   data_at_ sh t_secp256k1_uint128 r))
  ((_t&#39;1 =
      _secp256k1_mul128
      ([(_a)%expr; (_b)%expr; (&amp;_hi)%expr]);
    (_r-&gt;_lo) = (tulong) _t&#39;1;)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chke1">forward_call.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;1 (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
          v_hi; data_at_ sh t_secp256k1_uint128 r))
  ((_r-&gt;_lo) = (tulong) _t&#39;1;
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">repeat</span> progressC.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chke2"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_i128_accum_mul_spec</span>: semax_body Vprog Gprog f_secp256k1_i128_accum_mul secp256k1_i128_accum_mul_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_accum_mul
  secp256k1_i128_accum_mul_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chke3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_accum_mul
  secp256k1_i128_accum_mul_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chke4">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 + a * b &lt;=
Int128_max_signed</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at_ Tsh tlong v_hi;
   secp256k1_uint128_at sh r0 r))
  ((_t&#39;1 =
      _secp256k1_mul128
      ([(_a)%expr; (_b)%expr; (&amp;_hi)%expr]);
    _lo = (tulong) _t&#39;1;)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chke5"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 + a * b &lt;=
Int128_max_signed</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at_ Tsh tlong v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;1 =
      _secp256k1_mul128
      ([(_a)%expr; (_b)%expr; (&amp;_hi)%expr]);
    _lo = (tulong) _t&#39;1;)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chke6">unfold_Int128.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at_ Tsh tlong v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;1 =
      _secp256k1_mul128
      ([(_a)%expr; (_b)%expr; (&amp;_hi)%expr]);
    _lo = (tulong) _t&#39;1;)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chke7">forward_call.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
          v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;18 = (_r-&gt;_lo);
    (_r-&gt;_lo) = (_t&#39;18 + _lo);)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chke8"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;14 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;14 &lt;= (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;15 = _hi;
          _t&#39;2 =
            (tbool) ((tulong) _t&#39;15
                       &lt;= (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;2 = (<span class="mi">0</span>);
       })
      _t&#39;11 = (_r-&gt;_hi);
      _t&#39;12 = _hi;
      <span class="kr">if</span> (!(_t&#39;2
              &lt;= (_t&#39;11 + (tulong) _t&#39;12
                    &lt;= (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;13 = _stderr;
            _fprintf
              ([(_t&#39;13)%expr; (___stringlit_3)%expr;
               (___stringlit_2)%expr; ((<span class="mi">112</span>))%expr;
               (___stringlit_4)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chke9">forward_verify_check.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;14 = (_r-&gt;_hi);
    <span class="kr">if</span> (_t&#39;14 &lt;= (<span class="mi">9223372036854775807</span>)LL) {
      (_t&#39;15 = _hi;
       _t&#39;2 =
         (tbool) ((tulong) _t&#39;15
                    &lt;= (<span class="mi">9223372036854775807</span>)LL);)
    } <span class="kr">else</span> {
      _t&#39;2 = (<span class="mi">0</span>);
    })
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkea" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkea"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">117</span>))%expr; 
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkeb"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;14
            (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_t&#39;14 &lt;= (<span class="mi">9223372036854775807</span>)LL) {
     (_t&#39;15 = _hi;
      _t&#39;2 =
        (tbool) ((tulong) _t&#39;15
                   &lt;= (<span class="mi">9223372036854775807</span>)LL);)
   } <span class="kr">else</span> {
     _t&#39;2 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkec" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkec"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">117</span>))%expr; 
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chked"><span class="nb">set</span> (hi := (_ + Z.b2z _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;14
            (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_t&#39;14 &lt;= (<span class="mi">9223372036854775807</span>)LL) {
     (_t&#39;15 = _hi;
      _t&#39;2 =
        (tbool) ((tulong) _t&#39;15
                   &lt;= (<span class="mi">9223372036854775807</span>)LL);)
   } <span class="kr">else</span> {
     _t&#39;2 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkee" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkee"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">117</span>))%expr; 
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkef">forward_if (temp _t&#39;2 (Vint (Int.repr (Z.b2z (((Z.shiftr r0 <span class="mi">64</span>) mod <span class="mi">2</span>^<span class="mi">64</span> &lt;=? <span class="mi">9223372036854775807</span>) &amp;&amp; (hi mod <span class="mi">2</span>^<span class="mi">64</span> &lt;=? <span class="mi">9223372036854775807</span>))%bool))));
 <span class="kp">repeat</span> progressC;
 <span class="nb">revert</span> H3;
 convert_C_to_math;
 <span class="kp">try</span> <span class="kp">solve</span> 
  [<span class="kp">repeat</span> (<span class="kp">first</span>[<span class="nb">case</span> (Z.leb_spec _ _)|<span class="nb">case</span> (Z.ltb_spec _ _)];<span class="kp">try</span> <span class="bp">lia</span>;<span class="kp">try</span> <span class="bp">reflexivity</span>)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb
                 ((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=?
                   <span class="mi">9223372036854775807</span>) &amp;&amp;
                  ((Z.shiftr (a * b) <span class="mi">64</span> +
                    Z.b2z
                      ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                       (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=?
                   <span class="mi">9223372036854775807</span>))
               || negb
                    (<span class="mi">9223372036854775807</span> &lt;?
                     (Z.shiftr r0 <span class="mi">64</span> +
                      (Z.shiftr (a * b) <span class="mi">64</span> +
                       Z.b2z
                         ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                          (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                     mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;12 (Vlong (Int64.repr hi));
   temp _t&#39;11 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              ((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=?
                <span class="mi">9223372036854775807</span>) &amp;&amp;
               (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">9223372036854775807</span>)))));
   temp _t&#39;14 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;13 = _stderr;
       _fprintf
         ([(_t&#39;13)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">112</span>))%expr;
          (___stringlit_4)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkf0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkf0"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">117</span>))%expr; 
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkf1"><span class="nb">case</span> (Z.leb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hr0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb
                 (true &amp;&amp;
                  ((Z.shiftr (a * b) <span class="mi">64</span> +
                    Z.b2z
                      ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                       (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=?
                   <span class="mi">9223372036854775807</span>))
               || negb
                    (<span class="mi">9223372036854775807</span> &lt;?
                     (Z.shiftr r0 <span class="mi">64</span> +
                      (Z.shiftr (a * b) <span class="mi">64</span> +
                       Z.b2z
                         ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                          (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                     mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;12 (Vlong (Int64.repr hi));
   temp _t&#39;11 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp;
               (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">9223372036854775807</span>)))));
   temp _t&#39;14 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;13 = _stderr;
       _fprintf
         ([(_t&#39;13)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">112</span>))%expr;
          (___stringlit_4)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkf2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkf2"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">117</span>))%expr; 
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkf3"><span class="nb">case</span> (Z.leb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hhi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z
   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod 
<span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb (true &amp;&amp; true)
               || negb
                    (<span class="mi">9223372036854775807</span> &lt;?
                     (Z.shiftr r0 <span class="mi">64</span> +
                      (Z.shiftr (a * b) <span class="mi">64</span> +
                       Z.b2z
                         ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                          (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                     mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;12 (Vlong (Int64.repr hi));
   temp _t&#39;11 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp;
               (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">9223372036854775807</span>)))));
   temp _t&#39;14 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;13 = _stderr;
       _fprintf
         ([(_t&#39;13)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">112</span>))%expr;
          (___stringlit_4)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkf4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkf4"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">117</span>))%expr; 
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkf5"><span class="nb">case</span> (Z.ltb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hr0hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z
   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod 
<span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span><span class="mi">9223372036854775807</span> &lt;
(Z.shiftr r0 <span class="mi">64</span> +
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z
    ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
     (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))) mod 
<span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || negb true))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;12 (Vlong (Int64.repr hi));
   temp _t&#39;11 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp;
               (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">9223372036854775807</span>)))));
   temp _t&#39;14 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;13 = _stderr;
       _fprintf
         ([(_t&#39;13)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">112</span>))%expr;
          (___stringlit_4)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkf6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkf6"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">117</span>))%expr; 
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkf7"><span class="nb">apply</span> Int64_low_is_nonneg <span class="kr">in</span> Hr0; [|solve_bounds].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= Z.shiftr r0 <span class="mi">64</span> &lt;= Int64.max_signed</span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z
   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod 
<span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span><span class="mi">9223372036854775807</span> &lt;
(Z.shiftr r0 <span class="mi">64</span> +
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z
    ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
     (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))) mod 
<span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || negb true))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;12 (Vlong (Int64.repr hi));
   temp _t&#39;11 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp;
               (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">9223372036854775807</span>)))));
   temp _t&#39;14 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;13 = _stderr;
       _fprintf
         ([(_t&#39;13)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">112</span>))%expr;
          (___stringlit_4)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkf8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkf8"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">117</span>))%expr; 
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkf9"><span class="nb">apply</span> Int64_low_is_nonneg <span class="kr">in</span> Hhi;[|solve_bounds].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= Z.shiftr r0 <span class="mi">64</span> &lt;= Int64.max_signed</span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt;=
Int64.max_signed</span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span><span class="mi">9223372036854775807</span> &lt;
(Z.shiftr r0 <span class="mi">64</span> +
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z
    ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
     (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))) mod 
<span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || negb true))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;12 (Vlong (Int64.repr hi));
   temp _t&#39;11 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp;
               (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">9223372036854775807</span>)))));
   temp _t&#39;14 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;13 = _stderr;
       _fprintf
         ([(_t&#39;13)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">112</span>))%expr;
          (___stringlit_4)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkfa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkfa"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">117</span>))%expr; 
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkfb"><span class="nb">apply</span> Int64_high_is_neg <span class="kr">in</span> Hr0hi;[<span class="bp">lia</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= Z.shiftr r0 <span class="mi">64</span> &lt;= Int64.max_signed</span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt;=
Int64.max_signed</span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span><span class="mi">9223372036854775807</span> &lt;
(Z.shiftr r0 <span class="mi">64</span> +
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z
    ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
     (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))) mod 
<span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.min_signed &lt;=
Z.shiftr r0 <span class="mi">64</span> +
(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) &lt;=
Int64.max_signed</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkfc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkfc"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">117</span>))%expr; 
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkfd"><span class="nb">rewrite</span> Z.add_assoc, &lt;- shiftr_add_carry <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= Z.shiftr r0 <span class="mi">64</span> &lt;= Int64.max_signed</span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt;=
Int64.max_signed</span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span><span class="mi">9223372036854775807</span> &lt;
(Z.shiftr r0 <span class="mi">64</span> +
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z
    ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
     (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))) mod 
<span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.min_signed &lt;= Z.shiftr (r0 + a * b) <span class="mi">64</span> &lt;=
Int64.max_signed</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chkfe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chkfe"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">117</span>))%expr; 
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chkff">solve_bounds.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;9 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;10 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;10
                       &gt; (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;6 = (_r-&gt;_hi);
      _t&#39;7 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;6 + (tulong) _t&#39;7
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;8 = _stderr;
            _fprintf
              ([(_t&#39;8)%expr; (___stringlit_3)%expr;
               (___stringlit_2)%expr; ((<span class="mi">117</span>))%expr;
               (___stringlit_5)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk100">forward_verify_check.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;9 = (_r-&gt;_hi);
    <span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
      (_t&#39;10 = _hi;
       _t&#39;3 =
         (tbool) ((tulong) _t&#39;10
                    &gt; (<span class="mi">9223372036854775807</span>)LL);)
    } <span class="kr">else</span> {
      _t&#39;3 = (<span class="mi">0</span>);
    })
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk101" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk101"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk102"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;9
            (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
     (_t&#39;10 = _hi;
      _t&#39;3 =
        (tbool) ((tulong) _t&#39;10
                   &gt; (<span class="mi">9223372036854775807</span>)LL);)
   } <span class="kr">else</span> {
     _t&#39;3 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk103" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk103"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk104"><span class="nb">set</span> (hi := (_ + Z.b2z _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;9
            (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_t&#39;9 &gt; (<span class="mi">9223372036854775807</span>)LL) {
     (_t&#39;10 = _hi;
      _t&#39;3 =
        (tbool) ((tulong) _t&#39;10
                   &gt; (<span class="mi">9223372036854775807</span>)LL);)
   } <span class="kr">else</span> {
     _t&#39;3 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk105" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk105"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk106">forward_if (temp _t&#39;3 (Vint (Int.repr (Z.b2z ((<span class="mi">2</span>^<span class="mi">63</span>-<span class="mi">1</span> &lt;? (Z.shiftr r0 <span class="mi">64</span>) mod <span class="mi">2</span>^<span class="mi">64</span>) &amp;&amp; (<span class="mi">2</span>^<span class="mi">63</span>-<span class="mi">1</span> &lt;? hi mod <span class="mi">2</span>^<span class="mi">64</span>))%bool))));
 <span class="kp">repeat</span> progressC;
 <span class="nb">revert</span> H3;
 convert_C_to_math;
 <span class="kp">try</span> <span class="kp">solve</span> 
  [<span class="kp">repeat</span> (<span class="kp">first</span>[<span class="nb">case</span> (Z.leb_spec _ _)|<span class="nb">case</span> (Z.ltb_spec _ _)];<span class="kp">try</span> <span class="bp">lia</span>;<span class="kp">try</span> <span class="bp">reflexivity</span>)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb
                 ((<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;?
                   Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
                  (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;?
                   (Z.shiftr (a * b) <span class="mi">64</span> +
                    Z.b2z
                      ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                       (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span>))
               || (<span class="mi">9223372036854775807</span> &lt;?
                   (Z.shiftr r0 <span class="mi">64</span> +
                    (Z.shiftr (a * b) <span class="mi">64</span> +
                     Z.b2z
                       ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                        (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                   mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;7 (Vlong (Int64.repr hi));
   temp _t&#39;6 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              ((<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;?
                Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
               (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;9 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;8 = _stderr;
       _fprintf
         ([(_t&#39;8)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">117</span>))%expr;
          (___stringlit_5)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk107" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk107"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk108"><span class="nb">case</span> (Z.ltb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hr0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt; Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb
                 (true &amp;&amp;
                  (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;?
                   (Z.shiftr (a * b) <span class="mi">64</span> +
                    Z.b2z
                      ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                       (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span>))
               || (<span class="mi">9223372036854775807</span> &lt;?
                   (Z.shiftr r0 <span class="mi">64</span> +
                    (Z.shiftr (a * b) <span class="mi">64</span> +
                     Z.b2z
                       ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                        (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                   mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;7 (Vlong (Int64.repr hi));
   temp _t&#39;6 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;9 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;8 = _stderr;
       _fprintf
         ([(_t&#39;8)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">117</span>))%expr;
          (___stringlit_5)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk109" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk109"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk10a"><span class="nb">case</span> (Z.ltb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hhi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt; Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;
(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z
   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod 
<span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb (true &amp;&amp; true)
               || (<span class="mi">9223372036854775807</span> &lt;?
                   (Z.shiftr r0 <span class="mi">64</span> +
                    (Z.shiftr (a * b) <span class="mi">64</span> +
                     Z.b2z
                       ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                        (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                   mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;7 (Vlong (Int64.repr hi));
   temp _t&#39;6 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;9 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;8 = _stderr;
       _fprintf
         ([(_t&#39;8)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">117</span>))%expr;
          (___stringlit_5)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk10b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk10b"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk10c"><span class="nb">case</span> (Z.ltb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hr0hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt; Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;
(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z
   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod 
<span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> +
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z
    ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
     (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))) mod 
<span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || false))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;7 (Vlong (Int64.repr hi));
   temp _t&#39;6 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;9 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;8 = _stderr;
       _fprintf
         ([(_t&#39;8)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">117</span>))%expr;
          (___stringlit_5)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk10d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk10d"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk10e"><span class="nb">apply</span> Int64_high_is_neg <span class="kr">in</span> Hr0; [|solve_bounds].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= Z.shiftr r0 <span class="mi">64</span> &lt; <span class="mi">0</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;
(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z
   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod 
<span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> +
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z
    ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
     (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))) mod 
<span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || false))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;7 (Vlong (Int64.repr hi));
   temp _t&#39;6 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;9 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;8 = _stderr;
       _fprintf
         ([(_t&#39;8)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">117</span>))%expr;
          (___stringlit_5)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk10f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk10f"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk110"><span class="nb">apply</span> Int64_high_is_neg <span class="kr">in</span> Hhi;[|solve_bounds].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= Z.shiftr r0 <span class="mi">64</span> &lt; <span class="mi">0</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt;
<span class="mi">0</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> +
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z
    ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
     (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))) mod 
<span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || false))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;7 (Vlong (Int64.repr hi));
   temp _t&#39;6 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;9 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;8 = _stderr;
       _fprintf
         ([(_t&#39;8)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">117</span>))%expr;
          (___stringlit_5)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk111" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk111"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk112"><span class="nb">apply</span> Int64_low_is_nonneg <span class="kr">in</span> Hr0hi;[<span class="bp">lia</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= Z.shiftr r0 <span class="mi">64</span> &lt; <span class="mi">0</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt;
<span class="mi">0</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> +
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z
    ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
     (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))) mod 
<span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.min_signed &lt;=
Z.shiftr r0 <span class="mi">64</span> +
(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) &lt;=
Int64.max_signed</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk113" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk113"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk114"><span class="nb">rewrite</span> Z.add_assoc, &lt;- shiftr_add_carry <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= Z.shiftr r0 <span class="mi">64</span> &lt; <span class="mi">0</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z
  ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt;
<span class="mi">0</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> +
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z
    ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
     (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))) mod 
<span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.min_signed &lt;= Z.shiftr (r0 + a * b) <span class="mi">64</span> &lt;=
Int64.max_signed</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk115" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk115"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk116">solve_bounds.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;17 (Vlong (Int64.repr (r0 + a * b)));
   temp _t&#39;16
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr (r0 + a * b)),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                        (r0 + a * b) r) *
      stackframe_of f_secp256k1_i128_accum_mul)%logic)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk117"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>Pv_hi</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>HPv_hi</var><span class="hyp-type"><b>: </b><span>headptr v_hi</span></span></span><br><span><var>Pv_hi0</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] v_hi</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))))) r
|-- secp256k1_uint128_at sh (r0 + a * b) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk118"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>Pv_hi</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>HPv_hi</var><span class="hyp-type"><b>: </b><span>headptr v_hi</span></span></span><br><span><var>Pv_hi0</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] v_hi</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (r0 + a * b)),
      Vlong (Int64.repr (Z.shiftr (r0 + a * b) <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk119"><span class="nb">rewrite</span> Z.add_assoc, &lt;- shiftr_add_carry <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 + a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>Pv_hi</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>HPv_hi</var><span class="hyp-type"><b>: </b><span>headptr v_hi</span></span></span><br><span><var>Pv_hi0</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] v_hi</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> +
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           ((r0 + a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
            (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 + a * b)),
  Vlong (Int64.repr (Z.shiftr (r0 + a * b) <span class="mi">64</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (r0 + a * b)),
      Vlong (Int64.repr (Z.shiftr (r0 + a * b) <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">entailer!.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk11a"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_i128_dissip_mul_spec</span>: semax_body Vprog Gprog f_secp256k1_i128_dissip_mul secp256k1_i128_dissip_mul_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_dissip_mul
  secp256k1_i128_dissip_mul_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk11b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_dissip_mul
  secp256k1_i128_dissip_mul_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk11c">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 - a * b &lt;=
Int128_max_signed</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at_ Tsh tlong v_hi;
   secp256k1_uint128_at sh r0 r))
  ((_t&#39;1 =
      _secp256k1_mul128
      ([(_a)%expr; (_b)%expr; (&amp;_hi)%expr]);
    _lo = (tulong) _t&#39;1;)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk11d"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 - a * b &lt;=
Int128_max_signed</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at_ Tsh tlong v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;1 =
      _secp256k1_mul128
      ([(_a)%expr; (_b)%expr; (&amp;_hi)%expr]);
    _lo = (tulong) _t&#39;1;)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk11e">unfold_Int128.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at_ Tsh tlong v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;1 =
      _secp256k1_mul128
      ([(_a)%expr; (_b)%expr; (&amp;_hi)%expr]);
    _lo = (tulong) _t&#39;1;)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk11f">forward_call.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)))
          v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;17 = _hi;
    _t&#39;18 = (_r-&gt;_lo);
    _hi = (_t&#39;17 + (_t&#39;18 &lt; _lo));)
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk120"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;15 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;15 &lt;= (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;16 = _hi;
          _t&#39;2 =
            (tbool) ((tulong) _t&#39;16
                       &gt; (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;2 = (<span class="mi">0</span>);
       })
      _t&#39;12 = (_r-&gt;_hi);
      _t&#39;13 = _hi;
      <span class="kr">if</span> (!(_t&#39;2
              &lt;= (_t&#39;12 - (tulong) _t&#39;13
                    &lt;= (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;14 = _stderr;
            _fprintf
              ([(_t&#39;14)%expr; (___stringlit_3)%expr;
               (___stringlit_2)%expr; ((<span class="mi">129</span>))%expr;
               (___stringlit_6)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk121">forward_verify_check.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;15 = (_r-&gt;_hi);
    <span class="kr">if</span> (_t&#39;15 &lt;= (<span class="mi">9223372036854775807</span>)LL) {
      (_t&#39;16 = _hi;
       _t&#39;2 =
         (tbool) ((tulong) _t&#39;16
                    &gt; (<span class="mi">9223372036854775807</span>)LL);)
    } <span class="kr">else</span> {
      _t&#39;2 = (<span class="mi">0</span>);
    })
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk122" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk122"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">134</span>))%expr; 
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk123"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;15
            (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_t&#39;15 &lt;= (<span class="mi">9223372036854775807</span>)LL) {
     (_t&#39;16 = _hi;
      _t&#39;2 =
        (tbool) ((tulong) _t&#39;16
                   &gt; (<span class="mi">9223372036854775807</span>)LL);)
   } <span class="kr">else</span> {
     _t&#39;2 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk124" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk124"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">134</span>))%expr; 
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk125"><span class="nb">set</span> (hi := (_ + Z.b2z _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;15
            (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_t&#39;15 &lt;= (<span class="mi">9223372036854775807</span>)LL) {
     (_t&#39;16 = _hi;
      _t&#39;2 =
        (tbool) ((tulong) _t&#39;16
                   &gt; (<span class="mi">9223372036854775807</span>)LL);)
   } <span class="kr">else</span> {
     _t&#39;2 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk126" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk126"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">134</span>))%expr; 
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk127">forward_if (temp _t&#39;2 (Vint (Int.repr (Z.b2z (((Z.shiftr r0 <span class="mi">64</span>) mod <span class="mi">2</span>^<span class="mi">64</span> &lt;=? <span class="mi">2</span>^<span class="mi">63</span>-<span class="mi">1</span>) &amp;&amp; (<span class="mi">2</span>^<span class="mi">63</span>-<span class="mi">1</span> &lt;? hi mod <span class="mi">2</span>^<span class="mi">64</span>))%bool))));
 <span class="kp">repeat</span> progressC;
 <span class="nb">revert</span> H3;
 convert_C_to_math;
 <span class="kp">try</span> <span class="kp">solve</span> 
  [<span class="kp">repeat</span> (<span class="kp">first</span>[<span class="nb">case</span> (Z.leb_spec _ _)|<span class="nb">case</span> (Z.ltb_spec _ _)];<span class="kp">try</span> <span class="bp">lia</span>;<span class="kp">try</span> <span class="bp">reflexivity</span>)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb
                 ((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=?
                   <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span>) &amp;&amp;
                  (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;?
                   (Z.shiftr (a * b) <span class="mi">64</span> +
                    Z.b2z
                      (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                       (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span>))
               || negb
                    (<span class="mi">9223372036854775807</span> &lt;?
                     (Z.shiftr r0 <span class="mi">64</span> -
                      (Z.shiftr (a * b) <span class="mi">64</span> +
                       Z.b2z
                         (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                          (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                     mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;13 (Vlong (Int64.repr hi));
   temp _t&#39;12 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              ((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=?
                <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span>) &amp;&amp;
               (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;15 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;14 = _stderr;
       _fprintf
         ([(_t&#39;14)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">129</span>))%expr;
          (___stringlit_6)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk128" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk128"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">134</span>))%expr; 
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk129"><span class="nb">case</span> (Z.leb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hr0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb
                 (true &amp;&amp;
                  (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;?
                   (Z.shiftr (a * b) <span class="mi">64</span> +
                    Z.b2z
                      (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                       (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span>))
               || negb
                    (<span class="mi">9223372036854775807</span> &lt;?
                     (Z.shiftr r0 <span class="mi">64</span> -
                      (Z.shiftr (a * b) <span class="mi">64</span> +
                       Z.b2z
                         (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                          (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                     mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;13 (Vlong (Int64.repr hi));
   temp _t&#39;12 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;15 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;14 = _stderr;
       _fprintf
         ([(_t&#39;14)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">129</span>))%expr;
          (___stringlit_6)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk12a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk12a"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">134</span>))%expr; 
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk12b"><span class="nb">case</span> (Z.ltb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hhi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;
(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb (true &amp;&amp; true)
               || negb
                    (<span class="mi">9223372036854775807</span> &lt;?
                     (Z.shiftr r0 <span class="mi">64</span> -
                      (Z.shiftr (a * b) <span class="mi">64</span> +
                       Z.b2z
                         (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                          (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                     mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;13 (Vlong (Int64.repr hi));
   temp _t&#39;12 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;15 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;14 = _stderr;
       _fprintf
         ([(_t&#39;14)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">129</span>))%expr;
          (___stringlit_6)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk12c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk12c"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">134</span>))%expr; 
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk12d"><span class="nb">case</span> (Z.ltb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hr0hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;
(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span><span class="mi">9223372036854775807</span> &lt;
(Z.shiftr r0 <span class="mi">64</span> -
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || negb true))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;13 (Vlong (Int64.repr hi));
   temp _t&#39;12 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;15 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;14 = _stderr;
       _fprintf
         ([(_t&#39;14)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">129</span>))%expr;
          (___stringlit_6)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk12e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk12e"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">134</span>))%expr; 
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk12f"><span class="nb">apply</span> Int64_low_is_nonneg <span class="kr">in</span> Hr0; [|solve_bounds].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= Z.shiftr r0 <span class="mi">64</span> &lt;= Int64.max_signed</span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;
(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span><span class="mi">9223372036854775807</span> &lt;
(Z.shiftr r0 <span class="mi">64</span> -
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || negb true))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;13 (Vlong (Int64.repr hi));
   temp _t&#39;12 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;15 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;14 = _stderr;
       _fprintf
         ([(_t&#39;14)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">129</span>))%expr;
          (___stringlit_6)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk130" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk130"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">134</span>))%expr; 
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk131"><span class="nb">apply</span> Int64_high_is_neg <span class="kr">in</span> Hhi;[|solve_bounds].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= Z.shiftr r0 <span class="mi">64</span> &lt;= Int64.max_signed</span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt; <span class="mi">0</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span><span class="mi">9223372036854775807</span> &lt;
(Z.shiftr r0 <span class="mi">64</span> -
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || negb true))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;13 (Vlong (Int64.repr hi));
   temp _t&#39;12 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;2
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;? hi mod <span class="mi">2</span> ^ <span class="mi">64</span>)))));
   temp _t&#39;15 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;14 = _stderr;
       _fprintf
         ([(_t&#39;14)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">129</span>))%expr;
          (___stringlit_6)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk132" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk132"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">134</span>))%expr; 
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk133"><span class="nb">apply</span> Int64_high_is_neg <span class="kr">in</span> Hr0hi;[<span class="bp">lia</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= Z.shiftr r0 <span class="mi">64</span> &lt;= Int64.max_signed</span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt; <span class="mi">0</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span><span class="mi">9223372036854775807</span> &lt;
(Z.shiftr r0 <span class="mi">64</span> -
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.min_signed &lt;=
Z.shiftr r0 <span class="mi">64</span> -
(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) &lt;=
Int64.max_signed</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk134" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk134"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">134</span>))%expr; 
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk135"><span class="nb">rewrite</span> Z.sub_add_distr, &lt;- shiftr_sub_borrow <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= Z.shiftr r0 <span class="mi">64</span> &lt;= Int64.max_signed</span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt; <span class="mi">0</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span><span class="mi">9223372036854775807</span> &lt;
(Z.shiftr r0 <span class="mi">64</span> -
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.min_signed &lt;= Z.shiftr (r0 - a * b) <span class="mi">64</span> &lt;=
Int64.max_signed</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk136" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk136"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= 
                       (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; 
               (___stringlit_3)%expr;
               (___stringlit_2)%expr; 
               ((<span class="mi">134</span>))%expr; 
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk137">solve_bounds.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     ((_t&#39;10 = (_r-&gt;_hi);
       <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
         (_t&#39;11 = _hi;
          _t&#39;3 =
            (tbool) ((tulong) _t&#39;11
                       &lt;= (<span class="mi">9223372036854775807</span>)LL);)
       } <span class="kr">else</span> {
         _t&#39;3 = (<span class="mi">0</span>);
       })
      _t&#39;7 = (_r-&gt;_hi);
      _t&#39;8 = _hi;
      <span class="kr">if</span> (!(_t&#39;3
              &lt;= (_t&#39;7 - (tulong) _t&#39;8
                    &gt; (<span class="mi">9223372036854775807</span>)LL))) {
        <span class="kr">for</span> (;
        ;
        break;) {
          ((_t&#39;9 = _stderr;
            _fprintf
              ([(_t&#39;9)%expr; (___stringlit_3)%expr;
               (___stringlit_2)%expr; ((<span class="mi">134</span>))%expr;
               (___stringlit_7)%expr]);)
           _abort([]);)
        }
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk138">forward_verify_check.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;10 = (_r-&gt;_hi);
    <span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
      (_t&#39;11 = _hi;
       _t&#39;3 =
         (tbool) ((tulong) _t&#39;11
                    &lt;= (<span class="mi">9223372036854775807</span>)LL);)
    } <span class="kr">else</span> {
      _t&#39;3 = (<span class="mi">0</span>);
    })
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk139" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk139"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk13a"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;10
            (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
     (_t&#39;11 = _hi;
      _t&#39;3 =
        (tbool) ((tulong) _t&#39;11
                   &lt;= (<span class="mi">9223372036854775807</span>)LL);)
   } <span class="kr">else</span> {
     _t&#39;3 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk13b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk13b"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk13c"><span class="nb">set</span> (hi := (_ + Z.b2z _)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;10
            (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_t&#39;10 &gt; (<span class="mi">9223372036854775807</span>)LL) {
     (_t&#39;11 = _hi;
      _t&#39;3 =
        (tbool) ((tulong) _t&#39;11
                   &lt;= (<span class="mi">9223372036854775807</span>)LL);)
   } <span class="kr">else</span> {
     _t&#39;3 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk13d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk13d"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk13e">forward_if (temp _t&#39;3 (Vint (Int.repr (Z.b2z ((<span class="mi">2</span>^<span class="mi">63</span>-<span class="mi">1</span> &lt;? (Z.shiftr r0 <span class="mi">64</span>) mod <span class="mi">2</span>^<span class="mi">64</span>) &amp;&amp; (hi mod <span class="mi">2</span>^<span class="mi">64</span> &lt;=? <span class="mi">2</span>^<span class="mi">63</span>-<span class="mi">1</span>))%bool))));
 <span class="kp">repeat</span> progressC;
 <span class="nb">revert</span> H3;
 convert_C_to_math;
 <span class="kp">try</span> <span class="kp">solve</span> 
  [<span class="kp">repeat</span> (<span class="kp">first</span>[<span class="nb">case</span> (Z.leb_spec _ _)|<span class="nb">case</span> (Z.ltb_spec _ _)];<span class="kp">try</span> <span class="bp">lia</span>;<span class="kp">try</span> <span class="bp">reflexivity</span>)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb
                 ((<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;?
                   Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
                  ((Z.shiftr (a * b) <span class="mi">64</span> +
                    Z.b2z
                      (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                       (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=?
                   <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span>))
               || (<span class="mi">9223372036854775807</span> &lt;?
                   (Z.shiftr r0 <span class="mi">64</span> -
                    (Z.shiftr (a * b) <span class="mi">64</span> +
                     Z.b2z
                       (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                        (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                   mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;8 (Vlong (Int64.repr hi));
   temp _t&#39;7 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              ((<span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt;?
                Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
               (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span>)))));
   temp _t&#39;10 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;9 = _stderr;
       _fprintf
         ([(_t&#39;9)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">134</span>))%expr;
          (___stringlit_7)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk13f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk13f"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk140"><span class="nb">case</span> (Z.ltb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hr0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt; Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb
                 (true &amp;&amp;
                  ((Z.shiftr (a * b) <span class="mi">64</span> +
                    Z.b2z
                      (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                       (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=?
                   <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span>))
               || (<span class="mi">9223372036854775807</span> &lt;?
                   (Z.shiftr r0 <span class="mi">64</span> -
                    (Z.shiftr (a * b) <span class="mi">64</span> +
                     Z.b2z
                       (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                        (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                   mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;8 (Vlong (Int64.repr hi));
   temp _t&#39;7 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span>)))));
   temp _t&#39;10 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;9 = _stderr;
       _fprintf
         ([(_t&#39;9)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">134</span>))%expr;
          (___stringlit_7)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk141" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk141"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk142"><span class="nb">case</span> (Z.leb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hhi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt; Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z
              (negb (true &amp;&amp; true)
               || (<span class="mi">9223372036854775807</span> &lt;?
                   (Z.shiftr r0 <span class="mi">64</span> -
                    (Z.shiftr (a * b) <span class="mi">64</span> +
                     Z.b2z
                       (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                        (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
                   mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;8 (Vlong (Int64.repr hi));
   temp _t&#39;7 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span>)))));
   temp _t&#39;10 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;9 = _stderr;
       _fprintf
         ([(_t&#39;9)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">134</span>))%expr;
          (___stringlit_7)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk143" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk143"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk144"><span class="nb">case</span> (Z.ltb_spec _ _);<span class="kp">try</span> <span class="bp">discriminate</span>; <span class="nb">intros</span> Hr0hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span> &lt; Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> -
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || false))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;8 (Vlong (Int64.repr hi));
   temp _t&#39;7 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span>)))));
   temp _t&#39;10 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;9 = _stderr;
       _fprintf
         ([(_t&#39;9)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">134</span>))%expr;
          (___stringlit_7)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk145" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk145"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk146"><span class="nb">apply</span> Int64_high_is_neg <span class="kr">in</span> Hr0; [|solve_bounds].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= Z.shiftr r0 <span class="mi">64</span> &lt; <span class="mi">0</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))
mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> -
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || false))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;8 (Vlong (Int64.repr hi));
   temp _t&#39;7 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span>)))));
   temp _t&#39;10 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;9 = _stderr;
       _fprintf
         ([(_t&#39;9)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">134</span>))%expr;
          (___stringlit_7)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk147" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk147"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk148"><span class="nb">apply</span> Int64_low_is_nonneg <span class="kr">in</span> Hhi;[|solve_bounds].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= Z.shiftr r0 <span class="mi">64</span> &lt; <span class="mi">0</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt;=
Int64.max_signed</span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> -
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint
        (Int.repr
           (Z.b2z (negb (true &amp;&amp; true) || false))))) -&gt;
semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;8 (Vlong (Int64.repr hi));
   temp _t&#39;7 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;3
     (Vint
        (Int.repr
           (Z.b2z
              (true &amp;&amp; (hi mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;=? <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span>)))));
   temp _t&#39;10 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong (Vlong (Int64.repr hi)) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">for</span> (;
   ;
   (break;)%C) {
     ((_t&#39;9 = _stderr;
       _fprintf
         ([(_t&#39;9)%expr; (___stringlit_3)%expr;
          (___stringlit_2)%expr; ((<span class="mi">134</span>))%expr;
          (___stringlit_7)%expr]);)
      _abort([]);)
   }) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk149" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk149"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk14a"><span class="nb">apply</span> Int64_low_is_nonneg <span class="kr">in</span> Hr0hi;[<span class="bp">lia</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= Z.shiftr r0 <span class="mi">64</span> &lt; <span class="mi">0</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt;=
Int64.max_signed</span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> -
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.min_signed &lt;=
Z.shiftr r0 <span class="mi">64</span> -
(Z.shiftr (a * b) <span class="mi">64</span> +
 Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)) &lt;=
Int64.max_signed</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk14b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk14b"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk14c"><span class="nb">rewrite</span> Z.sub_add_distr, &lt;- shiftr_sub_borrow <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>hi</var><span><span class="hyp-body"><b>:= </b><span>Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)</span></span><span class="hyp-type"><b>: </b><span>Z</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= Z.shiftr r0 <span class="mi">64</span> &lt; <span class="mi">0</span></span></span></span><br><span><var>Hhi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;=
Z.shiftr (a * b) <span class="mi">64</span> +
Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &lt;=
Int64.max_signed</span></span></span><br><span><var>Hr0hi</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> -
 (Z.shiftr (a * b) <span class="mi">64</span> +
  Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))
mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;= <span class="mi">9223372036854775807</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.min_signed &lt;= Z.shiftr (r0 - a * b) <span class="mi">64</span> &lt;=
Int64.max_signed</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk14d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk14d"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; 
   temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk14e">solve_bounds.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;18 (Vlong (Int64.repr r0));
   temp _t&#39;17
     (Vlong (Int64.repr (Z.shiftr (a * b) <span class="mi">64</span>)));
   temp _lo (Vlong (Int64.repr (a * b)));
   lvar _hi tlong v_hi; temp _r r;
   temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b)))
   SEP (data_at Tsh tlong
          (Vlong
             (Int64.repr
                (Z.shiftr (a * b) <span class="mi">64</span> +
                 Z.b2z
                   (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;?
                    (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) v_hi;
   data_at sh t_secp256k1_uint128
     (Vlong (Int64.repr r0),
     Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  ((_t&#39;5 = (_r-&gt;_hi);
    _t&#39;6 = _hi;
    (_r-&gt;_hi) = (_t&#39;5 - _t&#39;6);)
   MORE_COMMANDS)
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                        (r0 - a * b) r) *
      stackframe_of f_secp256k1_i128_dissip_mul)%logic)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk14f"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>Pv_hi</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>HPv_hi</var><span class="hyp-type"><b>: </b><span>headptr v_hi</span></span></span><br><span><var>Pv_hi0</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] v_hi</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 - a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> -
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 - a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> -
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))
  r |-- secp256k1_uint128_at sh (r0 - a * b) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk150"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>Pv_hi</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>HPv_hi</var><span class="hyp-type"><b>: </b><span>headptr v_hi</span></span></span><br><span><var>Pv_hi0</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] v_hi</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 - a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> -
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 - a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> -
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))
  r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (r0 - a * b)),
      Vlong (Int64.repr (Z.shiftr (r0 - a * b) <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk151"><span class="nb">rewrite</span> Z.sub_add_distr, &lt;- shiftr_sub_borrow <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, a, b</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>v_hi</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= b &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 - a * b &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>Pv_hi</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>HPv_hi</var><span class="hyp-type"><b>: </b><span>headptr v_hi</span></span></span><br><span><var>Pv_hi0</var><span class="hyp-type"><b>: </b><span>isptr v_hi</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible tlong [] v_hi</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>tc_val&#39; tlong
  (Vlong
     (Int64.repr
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr (r0 - a * b)),
  Vlong
    (Int64.repr
       (Z.shiftr r0 <span class="mi">64</span> -
        (Z.shiftr (a * b) <span class="mi">64</span> +
         Z.b2z
           (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> &lt;? (a * b) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (r0 - a * b)),
  Vlong (Int64.repr (Z.shiftr (r0 - a * b) <span class="mi">64</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (r0 - a * b)),
      Vlong (Int64.repr (Z.shiftr (r0 - a * b) <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">entailer!.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk152"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_i128_det</span>: semax_body Vprog Gprog f_secp256k1_i128_det secp256k1_i128_det_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_det
  secp256k1_i128_det_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk153"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_det
  secp256k1_i128_det_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk154">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= c &lt;= Int64.max_signed</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= d &lt;= Int64.max_signed</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= a * d - b * c &lt;=
Int128_max_signed</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b));
   temp _c (Vlong (Int64.repr c));
   temp _d (Vlong (Int64.repr d)))
   SEP (data_at_ sh t_secp256k1_uint128 r))
  (_secp256k1_i128_mul
     ([(_r)%expr; (_a)%expr; (_d)%expr]);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk155">forward_call.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= c &lt;= Int64.max_signed</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= d &lt;= Int64.max_signed</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= a * d - b * c &lt;=
Int128_max_signed</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _a (Vlong (Int64.repr a));
   temp _b (Vlong (Int64.repr b));
   temp _c (Vlong (Int64.repr c));
   temp _d (Vlong (Int64.repr d)))
   SEP (secp256k1_uint128_at sh (a * d) r))
  (_secp256k1_i128_dissip_mul
     ([(_r)%expr; (_b)%expr; (_c)%expr]);)
  POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk156">forward_call;[|entailer!].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= c &lt;= Int64.max_signed</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= d &lt;= Int64.max_signed</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= a * d - b * c &lt;=
Int128_max_signed</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int128_min_signed &lt;= a * d &lt;= Int128_max_signed</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk157"><span class="nb">unfold</span> Int128_min_signed, Int128_max_signed.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= c &lt;= Int64.max_signed</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= d &lt;= Int64.max_signed</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= a * d - b * c &lt;=
Int128_max_signed</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= a * d &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk158"><span class="nb">assert</span> (Htight := mul128_tight _ _ H H2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a, b, c, d</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= b &lt;= Int64.max_signed</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= c &lt;= Int64.max_signed</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= d &lt;= Int64.max_signed</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= a * d - b * c &lt;=
Int128_max_signed</span></span></span><br><span><var>Htight</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">126</span> + <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a * d &lt;= <span class="mi">2</span> ^ <span class="mi">126</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= a * d &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk159"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_i128_rshift</span>: semax_body Vprog Gprog f_secp256k1_i128_rshift secp256k1_i128_rshift_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_rshift
  secp256k1_i128_rshift_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk15a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_rshift
  secp256k1_i128_rshift_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk15b">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     <span class="kr">if</span> (!(_n &lt; (<span class="mi">128</span>))) {
       <span class="kr">for</span> (;
       ;
       break;) {
         ((_t&#39;6 = _stderr;
           _fprintf
             ([(_t&#39;6)%expr; (___stringlit_3)%expr;
              (___stringlit_2)%expr; ((<span class="mi">148</span>))%expr;
              (___stringlit_1)%expr]);)
          _abort([]);)
       }
     }
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk15c">forward_verify_check.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>typed_true tint
  (eval_unop Onotbool tint
     (Val.of_bool
        (Int.ltu (Int.repr n) (Int.repr <span class="mi">128</span>))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk15d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk15d"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;5 = (_r-&gt;_hi);
       (_r-&gt;_lo) =
         (tulong) ((tlong) _t&#39;5 &gt;&gt; (_n - (<span class="mi">64</span>)));)
      _t&#39;4 = (_r-&gt;_hi);
      (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;4 &gt;&gt; (<span class="mi">63</span>));)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;1 &gt;&gt; _n);)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_i128_rshift)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk15e"><span class="nb">revert</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Val.of_bool
        (Int.ltu (Int.repr n) (Int.repr <span class="mi">128</span>)))) -&gt;
<span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk15f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk15f"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;5 = (_r-&gt;_hi);
       (_r-&gt;_lo) =
         (tulong) ((tlong) _t&#39;5 &gt;&gt; (_n - (<span class="mi">64</span>)));)
      _t&#39;4 = (_r-&gt;_hi);
      (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;4 &gt;&gt; (<span class="mi">63</span>));)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;1 &gt;&gt; _n);)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_i128_rshift)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk160">convert_C_to_math.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint (Int.repr (Z.b2z (n &lt;? <span class="mi">128</span>))))) -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk161" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk161"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;5 = (_r-&gt;_hi);
       (_r-&gt;_lo) =
         (tulong) ((tlong) _t&#39;5 &gt;&gt; (_n - (<span class="mi">64</span>)));)
      _t&#39;4 = (_r-&gt;_hi);
      (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;4 &gt;&gt; (<span class="mi">63</span>));)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;1 &gt;&gt; _n);)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_i128_rshift)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk162"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (Val.of_bool
     (negb
        (negb
           (Int.eq (Int.repr (Z.b2z (n &lt;? <span class="mi">128</span>)))
              Int.zero)))) -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk163" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk163"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;5 = (_r-&gt;_hi);
       (_r-&gt;_lo) =
         (tulong) ((tlong) _t&#39;5 &gt;&gt; (_n - (<span class="mi">64</span>)));)
      _t&#39;4 = (_r-&gt;_hi);
      (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;4 &gt;&gt; (<span class="mi">63</span>));)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;1 &gt;&gt; _n);)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_i128_rshift)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk164"><span class="nb">intros</span> H1; <span class="nb">apply</span> typed_true_of_bool <span class="kr">in</span> H1; <span class="nb">revert</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">negb
  (negb
     (Int.eq (Int.repr (Z.b2z (n &lt;? <span class="mi">128</span>))) Int.zero)) =
true -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk165" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk165"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;5 = (_r-&gt;_hi);
       (_r-&gt;_lo) =
         (tulong) ((tlong) _t&#39;5 &gt;&gt; (_n - (<span class="mi">64</span>)));)
      _t&#39;4 = (_r-&gt;_hi);
      (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;4 &gt;&gt; (<span class="mi">63</span>));)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;1 &gt;&gt; _n);)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                       (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_i128_rshift)%logic)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk166"><span class="nb">case</span> Z.ltb_spec;[<span class="bp">discriminate</span>|<span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;5 = (_r-&gt;_hi);
       (_r-&gt;_lo) =
         (tulong) ((tlong) _t&#39;5 &gt;&gt; (_n - (<span class="mi">64</span>)));)
      _t&#39;4 = (_r-&gt;_hi);
      (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;4 &gt;&gt; (<span class="mi">63</span>));)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;1 &gt;&gt; _n);)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (secp256k1_uint128_at sh
                        (Z.shiftr r0 n) r) *
      stackframe_of f_secp256k1_i128_rshift)%logic)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk167"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int128_min_signed &lt;= r0 &lt;= Int128_max_signed</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;5 = (_r-&gt;_hi);
       (_r-&gt;_lo) =
         (tulong) ((tlong) _t&#39;5 &gt;&gt; (_n - (<span class="mi">64</span>)));)
      _t&#39;4 = (_r-&gt;_hi);
      (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;4 &gt;&gt; (<span class="mi">63</span>));)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;1 &gt;&gt; _n);)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (data_at sh t_secp256k1_uint128
                        (Vlong
                           (Int64.repr (Z.shiftr r0 n)),
                        Vlong
                          (Int64.repr
                             (Z.shiftr (Z.shiftr r0 n)
                                <span class="mi">64</span>))) r) *
      stackframe_of f_secp256k1_i128_rshift)%logic)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk168">unfold_Int128.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     ((_t&#39;5 = (_r-&gt;_hi);
       (_r-&gt;_lo) =
         (tulong) ((tlong) _t&#39;5 &gt;&gt; (_n - (<span class="mi">64</span>)));)
      _t&#39;4 = (_r-&gt;_hi);
      (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;4 &gt;&gt; (<span class="mi">63</span>));)
   } <span class="kr">else</span> {
     <span class="kr">if</span> (_n &gt; (<span class="mi">0</span>)) {
       ((_t&#39;2 = (_r-&gt;_hi);
         _t&#39;3 = (_r-&gt;_lo);
         (_r-&gt;_lo) =
           ((<span class="mi">1</span>) * _t&#39;2) &lt;&lt; ((<span class="mi">64</span>) - _n) | _t&#39;3 &gt;&gt; _n;)
        _t&#39;1 = (_r-&gt;_hi);
        (_r-&gt;_hi) = (tulong) ((tlong) _t&#39;1 &gt;&gt; _n);)
     }
   })
  (normal_ret_assert
     (PROP ( )
      RETURN ( ) SEP (data_at sh t_secp256k1_uint128
                        (Vlong
                           (Int64.repr (Z.shiftr r0 n)),
                        Vlong
                          (Int64.repr
                             (Z.shiftr (Z.shiftr r0 n)
                                <span class="mi">64</span>))) r) *
      stackframe_of f_secp256k1_i128_rshift)%logic)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk169"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr <span class="mi">63</span>)))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) <span class="mi">63</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) <span class="mi">63</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk16a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk16a"><hr></label><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk16b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk16b"><hr></label><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk16c">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr <span class="mi">63</span>)))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) <span class="mi">63</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) <span class="mi">63</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk16d"><span class="nb">rewrite</span> !Z.shiftr_shiftr <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr <span class="mi">63</span>)))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) <span class="mi">63</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (Z.shiftr r0 (<span class="mi">64</span> + (n - <span class="mi">64</span>)))),
  Vlong (Int64.repr (Z.shiftr r0 (<span class="mi">64</span> + <span class="mi">63</span>)))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr r0 (n + <span class="mi">64</span>)))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk16e"><span class="nb">replace</span> (<span class="mi">64</span> + (n - <span class="mi">64</span>)) <span class="kr">with</span> n <span class="bp">by</span> <span class="bp">ring</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr <span class="mi">63</span>)))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) <span class="mi">63</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (Z.shiftr r0 n)),
  Vlong (Int64.repr (Z.shiftr r0 (<span class="mi">64</span> + <span class="mi">63</span>)))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr r0 (n + <span class="mi">64</span>)))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk16f"><span class="nb">change</span> (<span class="mi">64</span> + <span class="mi">63</span>) <span class="kr">with</span> <span class="mi">127</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr <span class="mi">63</span>)))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) <span class="mi">63</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (Z.shiftr r0 n)),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">127</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr r0 (n + <span class="mi">64</span>)))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk170"><span class="nb">replace</span> (n + <span class="mi">64</span>) <span class="kr">with</span> (<span class="mi">127</span> + (n - <span class="mi">63</span>)) <span class="bp">by</span> <span class="bp">ring</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr <span class="mi">63</span>)))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) <span class="mi">63</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (Z.shiftr r0 n)),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">127</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong
        (Int64.repr (Z.shiftr r0 (<span class="mi">127</span> + (n - <span class="mi">63</span>))))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk171"><span class="nb">rewrite</span> shiftr_small_signed <span class="bp">by</span> solve_bounds.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>)
           (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr <span class="mi">63</span>)))))</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) (n - <span class="mi">64</span>))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) <span class="mi">63</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr (Z.shiftr r0 n)),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">127</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr r0 <span class="mi">127</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">entailer!.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk172">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk173"><span class="nb">rewrite</span> !Z.shiftr_shiftr <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong (Int64.repr (Z.shiftr r0 (<span class="mi">64</span> + n)))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr r0 (n + <span class="mi">64</span>)))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk174"><span class="nb">rewrite</span> Z.add_comm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong (Int64.repr (Z.shiftr r0 (n + <span class="mi">64</span>)))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr r0 (n + <span class="mi">64</span>)))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk175"><span class="nb">replace</span> (Int64.repr (Z.lor _ _)) <span class="kr">with</span> (Int64.repr (Z.shiftr r0 n));[entailer!|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 n) =
Int64.repr
  (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk176"><span class="nb">rewrite</span> &lt;- Z.shiftl_mul_pow2 <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 n) =
Int64.repr
  (Z.lor (Z.shiftl (Z.shiftr r0 <span class="mi">64</span>) (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk177"><span class="nb">apply</span> Int64.eqm_samerepr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.eqm (Z.shiftr r0 n)
  (Z.lor (Z.shiftl (Z.shiftr r0 <span class="mi">64</span>) (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk178"><span class="nb">apply</span> Int64.eqm_same_bits.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">i</span> : Z,
<span class="mi">0</span> &lt;= i &lt; Int64.zwordsize -&gt;
Z.testbit (Z.shiftr r0 n) i =
Z.testbit
  (Z.lor (Z.shiftl (Z.shiftr r0 <span class="mi">64</span>) (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk179"><span class="nb">change</span> Int64.zwordsize <span class="kr">with</span> <span class="mi">64</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">i</span> : Z,
<span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span> -&gt;
Z.testbit (Z.shiftr r0 n) i =
Z.testbit
  (Z.lor (Z.shiftl (Z.shiftr r0 <span class="mi">64</span>) (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk17a"><span class="nb">intros</span> i Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit (Z.shiftr r0 n) i =
Z.testbit
  (Z.lor (Z.shiftl (Z.shiftr r0 <span class="mi">64</span>) (<span class="mi">64</span> - n))
     (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n)) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk17b"><span class="nb">rewrite</span> Z.lor_spec, !Z.shiftr_spec, Z.shiftl_spec <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit (Z.shiftr r0 <span class="mi">64</span>) (i - (<span class="mi">64</span> - n))
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk17c"><span class="nb">destruct</span> (Z.neg_nonneg_cases (i - (<span class="mi">64</span> - n))) <span class="kr">as</span> [Hneg|Hpos].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hneg</var><span class="hyp-type"><b>: </b><span>i - (<span class="mi">64</span> - n) &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit (Z.shiftr r0 <span class="mi">64</span>) (i - (<span class="mi">64</span> - n))
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk17d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk17d"><hr></label><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit (Z.shiftr r0 <span class="mi">64</span>) (i - (<span class="mi">64</span> - n))
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk17e"><span class="nb">rewrite</span> (Z.testbit_neg_r _ _ Hneg).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hneg</var><span class="hyp-type"><b>: </b><span>i - (<span class="mi">64</span> - n) &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(false || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk17f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk17f"><hr></label><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit (Z.shiftr r0 <span class="mi">64</span>) (i - (<span class="mi">64</span> - n))
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk180"><span class="nb">rewrite</span> Z.mod_pow2_bits_low <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hneg</var><span class="hyp-type"><b>: </b><span>i - (<span class="mi">64</span> - n) &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(false || Z.testbit r0 (i + n))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk181" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk181"><hr></label><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit (Z.shiftr r0 <span class="mi">64</span>) (i - (<span class="mi">64</span> - n))
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk182"><span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit (Z.shiftr r0 <span class="mi">64</span>) (i - (<span class="mi">64</span> - n))
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk183"><span class="nb">rewrite</span> Z.shiftr_spec <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
(Z.testbit r0 (i - (<span class="mi">64</span> - n) + <span class="mi">64</span>)
 || Z.testbit (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) (i + n))%bool</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk184"><span class="nb">rewrite</span> Z.mod_pow2_bits_high, orb_false_r <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) =
Z.testbit r0 (i - (<span class="mi">64</span> - n) + <span class="mi">64</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk185"><span class="nb">replace</span> (i - (<span class="mi">64</span> - n) + <span class="mi">64</span>) <span class="kr">with</span> (i + n) <span class="bp">by</span> <span class="bp">ring</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt; n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor
           (<span class="mi">1</span> * Z.shiftr r0 <span class="mi">64</span> *
            <span class="mi">2</span> ^ Int.unsigned (Int.repr (<span class="mi">64</span> - n)))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.shr (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
       (Int64.repr (Int.unsigned (Int.repr n)))))</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong
     (Int64.repr
        (Z.lor (Z.shiftr r0 <span class="mi">64</span> * <span class="mi">2</span> ^ (<span class="mi">64</span> - n))
           (Z.shiftr (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) n))),
  Vlong
    (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">64</span>) n)))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i &lt; <span class="mi">64</span></span></span></span><br><span><var>Hpos</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= i - (<span class="mi">64</span> - n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.testbit r0 (i + n) = Z.testbit r0 (i + n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk186">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 n)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 n) <span class="mi">64</span>)))
      r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk187"><span class="nb">replace</span> n <span class="kr">with</span> <span class="mi">0</span> <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">0</span>)),
      Vlong (Int64.repr (Z.shiftr (Z.shiftr r0 <span class="mi">0</span>) <span class="mi">64</span>)))
      r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk188"><span class="nb">rewrite</span> Z.shiftr_0_r.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">127</span> &lt;= r0 &lt;= <span class="mi">2</span> ^ <span class="mi">127</span> - <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">128</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= n</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr r0),
      Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">entailer!.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk189"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_i128_to_i64</span>: semax_body Vprog Gprog f_secp256k1_i128_to_i64 secp256k1_i128_to_i64_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_to_i64
  secp256k1_i128_to_i64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk18a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_to_i64
  secp256k1_i128_to_i64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk18b">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a r)
   SEP (secp256k1_uint128_at sh r0 r))
  (_t&#39;1 = (_a-&gt;_lo);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk18c"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a r)
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;1 = (_a-&gt;_lo);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">repeat</span> progressC.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk18d"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_i128_from_i64</span>: semax_body Vprog Gprog f_secp256k1_i128_from_i64 secp256k1_i128_from_i64_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_from_i64
  secp256k1_i128_from_i64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk18e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_from_i64
  secp256k1_i128_from_i64_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk18f">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.min_signed &lt;= a &lt;= Int64.max_signed</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _a (Vlong (Int64.repr a)))
   SEP (data_at_ sh t_secp256k1_uint128 r))
  ((_r-&gt;_hi) = (tulong) (_a &gt;&gt; (<span class="mi">63</span>));
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk190"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>))) r
|-- secp256k1_uint128_at sh a r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk191"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr a),
      Vlong (Int64.repr (Z.shiftr a <span class="mi">64</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk192"><span class="nb">change</span> <span class="mi">64</span> <span class="kr">with</span> (<span class="mi">63</span> + <span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr a),
      Vlong (Int64.repr (Z.shiftr a (<span class="mi">63</span> + <span class="mi">1</span>)))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk193"><span class="nb">rewrite</span> &lt;- Z.shiftr_shiftr, !Z.shiftr_div_pow2 <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (a / <span class="mi">2</span> ^ <span class="mi">63</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr a),
      Vlong (Int64.repr (a / <span class="mi">2</span> ^ <span class="mi">63</span> / <span class="mi">2</span> ^ <span class="mi">1</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk194"><span class="nb">destruct</span> (Z.neg_nonneg_cases a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>)))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>a &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (a / <span class="mi">2</span> ^ <span class="mi">63</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr a),
      Vlong (Int64.repr (a / <span class="mi">2</span> ^ <span class="mi">63</span> / <span class="mi">2</span> ^ <span class="mi">1</span>))) r</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk195" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>)))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk195"><hr></label><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (a / <span class="mi">2</span> ^ <span class="mi">63</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr a),
      Vlong (Int64.repr (a / <span class="mi">2</span> ^ <span class="mi">63</span> / <span class="mi">2</span> ^ <span class="mi">1</span>))) r</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk196">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>)))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>a &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (a / <span class="mi">2</span> ^ <span class="mi">63</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr a),
      Vlong (Int64.repr (a / <span class="mi">2</span> ^ <span class="mi">63</span> / <span class="mi">2</span> ^ <span class="mi">1</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk197"><span class="nb">replace</span> (a/<span class="mi">2</span>^<span class="mi">63</span>) <span class="kr">with</span> (-<span class="mi">1</span>);[entailer!|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>)))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>a &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">-<span class="mi">1</span> = a / <span class="mi">2</span> ^ <span class="mi">63</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk198"><span class="nb">cut</span> (<span class="mi">0</span> = a / <span class="mi">2</span>^<span class="mi">63</span> + <span class="mi">1</span>);[<span class="bp">lia</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>)))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>a &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> = a / <span class="mi">2</span> ^ <span class="mi">63</span> + <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk199"><span class="nb">rewrite</span> &lt;- Z_div_plus, Z.mul_1_l <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>)))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>a &lt; <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">0</span> = (a + <span class="mi">2</span> ^ <span class="mi">63</span>) / <span class="mi">2</span> ^ <span class="mi">63</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> Zdiv_small;[<span class="bp">reflexivity</span>|rep_lia].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk19a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>writable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>- <span class="mi">2</span> ^ <span class="mi">63</span> &lt;= a &lt;= <span class="mi">2</span> ^ <span class="mi">63</span> - <span class="mi">1</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (Z.shiftr a <span class="mi">63</span>)))</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">data_at sh t_secp256k1_uint128
  (Vlong (Int64.repr a),
  Vlong (Int64.repr (a / <span class="mi">2</span> ^ <span class="mi">63</span>))) r
|-- data_at sh t_secp256k1_uint128
      (Vlong (Int64.repr a),
      Vlong (Int64.repr (a / <span class="mi">2</span> ^ <span class="mi">63</span> / <span class="mi">2</span> ^ <span class="mi">1</span>))) r</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">rewrite</span> (Zdiv_small a);[entailer!|rep_lia].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac</span> <span class="nf">secp256k1_uint128_iter_sepcon_forward</span> X :=
<span class="nb">rewrite</span> (iter_sepcon_wand_in _ _ _ _ X);
<span class="nb">unfold</span> secp256k1_uint128.at_args <span class="nb">at</span> <span class="mi">1</span> <span class="mi">2</span>; <span class="nb">simpl</span>;
<span class="nb">unfold</span> secp256k1_uint128_at;
Intros;
forward.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="c">(*</span>
<span class="c">sep_apply modus_ponens_wand.</span>
<span class="c">*)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk19b"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_i128_eq_var</span>: semax_body Vprog Gprog f_secp256k1_i128_eq_var secp256k1_i128_eq_var_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_eq_var
  secp256k1_i128_eq_var_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk19c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_eq_var
  secp256k1_i128_eq_var_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk19d">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>r, s</var><span class="hyp-type"><b>: </b><span>secp256k1_uint128.args</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>In r ptrs</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>In s ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share (secp256k1_uint128.share r)</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share (secp256k1_uint128.share s)</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a (secp256k1_uint128.ptr r);
   temp _b (secp256k1_uint128.ptr s))
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  ((_t&#39;2 = (_a-&gt;_hi);
    _t&#39;3 = (_b-&gt;_hi);
    <span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
      (_t&#39;4 = (_a-&gt;_lo);
       _t&#39;5 = (_b-&gt;_lo);
       _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
    } <span class="kr">else</span> {
      _t&#39;1 = (<span class="mi">0</span>);
    })
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk19e"><span class="nb">destruct</span> r <span class="kr">as</span> [shr r0 r].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>secp256k1_uint128.args</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>In s ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share
  (secp256k1_uint128.share
     {|
       secp256k1_uint128.share := shr;
       secp256k1_uint128.z := r0;
       secp256k1_uint128.ptr := r
     |})</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share (secp256k1_uint128.share s)</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a
            (secp256k1_uint128.ptr
               {|
                 secp256k1_uint128.share := shr;
                 secp256k1_uint128.z := r0;
                 secp256k1_uint128.ptr := r
               |});
   temp _b (secp256k1_uint128.ptr s))
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  ((_t&#39;2 = (_a-&gt;_hi);
    _t&#39;3 = (_b-&gt;_hi);
    <span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
      (_t&#39;4 = (_a-&gt;_lo);
       _t&#39;5 = (_b-&gt;_lo);
       _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
    } <span class="kr">else</span> {
      _t&#39;1 = (<span class="mi">0</span>);
    })
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk19f"><span class="nb">destruct</span> s <span class="kr">as</span> [shs s0 s].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share
  (secp256k1_uint128.share
     {|
       secp256k1_uint128.share := shr;
       secp256k1_uint128.z := r0;
       secp256k1_uint128.ptr := r
     |})</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share
  (secp256k1_uint128.share
     {|
       secp256k1_uint128.share := shs;
       secp256k1_uint128.z := s0;
       secp256k1_uint128.ptr := s
     |})</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a
            (secp256k1_uint128.ptr
               {|
                 secp256k1_uint128.share := shr;
                 secp256k1_uint128.z := r0;
                 secp256k1_uint128.ptr := r
               |});
   temp _b
     (secp256k1_uint128.ptr
        {|
          secp256k1_uint128.share := shs;
          secp256k1_uint128.z := s0;
          secp256k1_uint128.ptr := s
        |}))
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  ((_t&#39;2 = (_a-&gt;_hi);
    _t&#39;3 = (_b-&gt;_hi);
    <span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
      (_t&#39;4 = (_a-&gt;_lo);
       _t&#39;5 = (_b-&gt;_lo);
       _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
    } <span class="kr">else</span> {
      _t&#39;1 = (<span class="mi">0</span>);
    })
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1a0"><span class="nb">simpl</span> <span class="kr">in</span> SH, SH0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a
            (secp256k1_uint128.ptr
               {|
                 secp256k1_uint128.share := shr;
                 secp256k1_uint128.z := r0;
                 secp256k1_uint128.ptr := r
               |});
   temp _b
     (secp256k1_uint128.ptr
        {|
          secp256k1_uint128.share := shs;
          secp256k1_uint128.z := s0;
          secp256k1_uint128.ptr := s
        |}))
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  ((_t&#39;2 = (_a-&gt;_hi);
    _t&#39;3 = (_b-&gt;_hi);
    <span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
      (_t&#39;4 = (_a-&gt;_lo);
       _t&#39;5 = (_b-&gt;_lo);
       _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
    } <span class="kr">else</span> {
      _t&#39;1 = (<span class="mi">0</span>);
    })
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1a1"><span class="nb">rename</span> H <span class="nb">into</span> Hr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a
            (secp256k1_uint128.ptr
               {|
                 secp256k1_uint128.share := shr;
                 secp256k1_uint128.z := r0;
                 secp256k1_uint128.ptr := r
               |});
   temp _b
     (secp256k1_uint128.ptr
        {|
          secp256k1_uint128.share := shs;
          secp256k1_uint128.z := s0;
          secp256k1_uint128.ptr := s
        |}))
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  ((_t&#39;2 = (_a-&gt;_hi);
    _t&#39;3 = (_b-&gt;_hi);
    <span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
      (_t&#39;4 = (_a-&gt;_lo);
       _t&#39;5 = (_b-&gt;_lo);
       _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
    } <span class="kr">else</span> {
      _t&#39;1 = (<span class="mi">0</span>);
    })
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1a2"><span class="nb">rename</span> H0 <span class="nb">into</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _a
            (secp256k1_uint128.ptr
               {|
                 secp256k1_uint128.share := shr;
                 secp256k1_uint128.z := r0;
                 secp256k1_uint128.ptr := r
               |});
   temp _b
     (secp256k1_uint128.ptr
        {|
          secp256k1_uint128.share := shs;
          secp256k1_uint128.z := s0;
          secp256k1_uint128.ptr := s
        |}))
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  ((_t&#39;2 = (_a-&gt;_hi);
    _t&#39;3 = (_b-&gt;_hi);
    <span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
      (_t&#39;4 = (_a-&gt;_lo);
       _t&#39;5 = (_b-&gt;_lo);
       _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
    } <span class="kr">else</span> {
      _t&#39;1 = (<span class="mi">0</span>);
    })
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1a3">secp256k1_uint128_iter_sepcon_forward Hr;
sep_apply modus_ponens_wand.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;2
            (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  ((_t&#39;3 = (_b-&gt;_hi);
    <span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
      (_t&#39;4 = (_a-&gt;_lo);
       _t&#39;5 = (_b-&gt;_lo);
       _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
    } <span class="kr">else</span> {
      _t&#39;1 = (<span class="mi">0</span>);
    })
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1a4">secp256k1_uint128_iter_sepcon_forward Hs;
sep_apply modus_ponens_wand.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;3
            (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (<span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
     (_t&#39;4 = (_a-&gt;_lo);
      _t&#39;5 = (_b-&gt;_lo);
      _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
   } <span class="kr">else</span> {
     _t&#39;1 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1a5"><span class="nb">assert</span> (Hrs: r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =
             (((Z.shiftr r0 <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span> =? (Z.shiftr s0 <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
                (r0 mod <span class="mi">2</span>^<span class="mi">64</span> =? s0 mod <span class="mi">2</span>^<span class="mi">64</span>))%bool).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1a6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1a6"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;3
            (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (<span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
     (_t&#39;4 = (_a-&gt;_lo);
      _t&#39;5 = (_b-&gt;_lo);
      _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
   } <span class="kr">else</span> {
     _t&#39;1 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1a7"><span class="nb">change</span> (<span class="mi">2</span>^<span class="mi">128</span>) <span class="kr">with</span> (<span class="mi">2</span>^<span class="mi">64</span> * <span class="mi">2</span>^<span class="mi">64</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r0 mod (<span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">2</span> ^ <span class="mi">64</span>) =? s0 mod (<span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">2</span> ^ <span class="mi">64</span>)) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1a8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1a8"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;3
            (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (<span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
     (_t&#39;4 = (_a-&gt;_lo);
      _t&#39;5 = (_b-&gt;_lo);
      _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
   } <span class="kr">else</span> {
     _t&#39;1 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1a9"><span class="nb">rewrite</span> !Zmod_recombine, &lt;-! Z.shiftl_mul_pow2, &lt;-! Z.shiftr_div_pow2 <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Z.shiftl (Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) <span class="mi">64</span> +
 r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 Z.shiftl (Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) <span class="mi">64</span> +
 s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1aa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1aa"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;3
            (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (<span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
     (_t&#39;4 = (_a-&gt;_lo);
      _t&#39;5 = (_b-&gt;_lo);
      _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
   } <span class="kr">else</span> {
     _t&#39;1 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1ab"><span class="nb">apply</span> shiftl_mod_eqb_unique; <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;3
            (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (<span class="kr">if</span> (_t&#39;2 == _t&#39;3) {
     (_t&#39;4 = (_a-&gt;_lo);
      _t&#39;5 = (_b-&gt;_lo);
      _t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);)
   } <span class="kr">else</span> {
     _t&#39;1 = (<span class="mi">0</span>);
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1ac">forward_if
  (temp _t&#39;1 (Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span>^<span class="mi">128</span> =? s0 mod <span class="mi">2</span>^<span class="mi">128</span>))))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)) = true</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;3
            (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (_t&#39;4 = (_a-&gt;_lo);
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1ad" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.repr (Z.shiftr s0 <span class="mi">64</span>)</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1ad"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;3
            (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (_t&#39;1 = (<span class="mi">0</span>);) POSTCONDITION</div></blockquote><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1ae" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1ae"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;1
            (Vint
               (Int.repr
                  (Z.b2z
                     (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>))));
   temp _t&#39;3 (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (<span class="kr">return</span> _t&#39;1;) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1af">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)) = true</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;3
            (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (_t&#39;4 = (_a-&gt;_lo);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1b0">secp256k1_uint128_iter_sepcon_forward Hr;
  sep_apply modus_ponens_wand.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)) = true</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;4 (Vlong (Int64.repr r0));
   temp _t&#39;3 (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (_t&#39;5 = (_b-&gt;_lo);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1b1">secp256k1_uint128_iter_sepcon_forward Hs;
  sep_apply modus_ponens_wand.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)) = true</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;5 (Vlong (Int64.repr s0));
   temp _t&#39;4 (Vlong (Int64.repr r0));
   temp _t&#39;3 (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (_t&#39;1 = (tbool) (_t&#39;4 == _t&#39;5);) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1b2"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)) = true</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tbool
        (eval_binop Oeq tulong tulong
           (Vlong (Int64.repr r0))
           (Vlong (Int64.repr s0)))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>PNs</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>))) =
Vint
  (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1b3"><span class="nb">rewrite</span> eq_eq64 <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) = true</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tbool
        (eval_binop Oeq tulong tulong
           (Vlong (Int64.repr r0))
           (Vlong (Int64.repr s0)))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>PNs</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>))) =
Vint
  (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1b4"><span class="nb">rewrite</span> Hrs, H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) = true</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tbool
        (eval_binop Oeq tulong tulong
           (Vlong (Int64.repr r0))
           (Vlong (Int64.repr s0)))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>PNs</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z (true &amp;&amp; (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) =
Vint
  (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1b5">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.repr (Z.shiftr s0 <span class="mi">64</span>)</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;3
            (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (_t&#39;1 = (<span class="mi">0</span>);) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1b6"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.repr (Z.shiftr s0 <span class="mi">64</span>)</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>PNs</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1b7"><span class="nb">apply</span> Int64.eq_false <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)) = false</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>PNs</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1b8"><span class="nb">rewrite</span> eq_eq64 <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) = false</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>PNs</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1b9"><span class="nb">rewrite</span> Hrs, H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>(Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) = false</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>PNs</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z
        (false &amp;&amp; (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>)))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1ba">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>ptrs</var><span class="hyp-type"><b>: </b><span>list secp256k1_uint128.args</span></span></span><br><span><var>shr</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>r0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>shs</var><span class="hyp-type"><b>: </b><span>Share.t</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>Hr</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shr;
    secp256k1_uint128.z := r0;
    secp256k1_uint128.ptr := r
  |} ptrs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>In
  {|
    secp256k1_uint128.share := shs;
    secp256k1_uint128.z := s0;
    secp256k1_uint128.ptr := s
  |} ptrs</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share shr</span></span></span><br><span><var>SH0</var><span class="hyp-type"><b>: </b><span>readable_share shs</span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>Hrs</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
  Z.shiftr s0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _t&#39;1
            (Vint
               (Int.repr
                  (Z.b2z
                     (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? s0 mod <span class="mi">2</span> ^ <span class="mi">128</span>))));
   temp _t&#39;3 (Vlong (Int64.repr (Z.shiftr s0 <span class="mi">64</span>)));
   temp _t&#39;2 (Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)));
   temp _a r; temp _b s)
   SEP (iter_sepcon secp256k1_uint128.at_args ptrs))
  (<span class="kr">return</span> _t&#39;1;) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">repeat</span> progressC.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1bb"><span class="kn">Lemma</span> <span class="nf">body_secp256k1_i128_check_pow2</span>: semax_body Vprog Gprog f_secp256k1_i128_check_pow2 secp256k1_i128_check_pow2_spec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_check_pow2
  secp256k1_i128_check_pow2_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1bc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">semax_body Vprog Gprog f_secp256k1_i128_check_pow2
  secp256k1_i128_check_pow2_spec</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1bd">start_function.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">for</span> (;
   ;
   break;) {
     <span class="kr">if</span> (!(_n &lt; (<span class="mi">127</span>))) {
       <span class="kr">for</span> (;
       ;
       break;) {
         ((_t&#39;6 = _stderr;
           _fprintf
             ([(_t&#39;6)%expr; (___stringlit_3)%expr;
              (___stringlit_2)%expr; ((<span class="mi">172</span>))%expr;
              (___stringlit_8)%expr]);)
          _abort([]);)
       }
     }
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1be">forward_verify_check.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>typed_true tint
  (eval_unop Onotbool tint
     (Val.of_bool
        (Int.ltu (Int.repr n) (Int.repr <span class="mi">127</span>))))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1bf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1bf"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;4 == (tulong) (<span class="mi">1</span>) &lt;&lt; (_n - (<span class="mi">64</span>))) {
        ((_t&#39;5 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;5 == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 == (tulong) (<span class="mi">1</span>) &lt;&lt; _n);)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1c0"><span class="nb">revert</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Val.of_bool
        (Int.ltu (Int.repr n) (Int.repr <span class="mi">127</span>)))) -&gt;
<span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1c1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1c1"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;4 == (tulong) (<span class="mi">1</span>) &lt;&lt; (_n - (<span class="mi">64</span>))) {
        ((_t&#39;5 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;5 == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 == (tulong) (<span class="mi">1</span>) &lt;&lt; _n);)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1c2">convert_C_to_math.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (eval_unop Onotbool tint
     (Vint (Int.repr (Z.b2z (n &lt;? <span class="mi">127</span>))))) -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1c3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1c3"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;4 == (tulong) (<span class="mi">1</span>) &lt;&lt; (_n - (<span class="mi">64</span>))) {
        ((_t&#39;5 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;5 == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 == (tulong) (<span class="mi">1</span>) &lt;&lt; _n);)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1c4"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">typed_true tint
  (Val.of_bool
     (negb
        (negb
           (Int.eq (Int.repr (Z.b2z (n &lt;? <span class="mi">127</span>)))
              Int.zero)))) -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1c5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1c5"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;4 == (tulong) (<span class="mi">1</span>) &lt;&lt; (_n - (<span class="mi">64</span>))) {
        ((_t&#39;5 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;5 == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 == (tulong) (<span class="mi">1</span>) &lt;&lt; _n);)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1c6"><span class="nb">intros</span> H0; <span class="nb">apply</span> typed_true_of_bool <span class="kr">in</span> H0; <span class="nb">revert</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">negb
  (negb
     (Int.eq (Int.repr (Z.b2z (n &lt;? <span class="mi">127</span>))) Int.zero)) =
true -&gt; <span class="kt">False</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1c7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1c7"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;4 == (tulong) (<span class="mi">1</span>) &lt;&lt; (_n - (<span class="mi">64</span>))) {
        ((_t&#39;5 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;5 == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 == (tulong) (<span class="mi">1</span>) &lt;&lt; _n);)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1c8"><span class="nb">case</span> Z.ltb_spec;[<span class="bp">discriminate</span>|<span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (secp256k1_uint128_at sh r0 r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;4 == (tulong) (<span class="mi">1</span>) &lt;&lt; (_n - (<span class="mi">64</span>))) {
        ((_t&#39;5 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;5 == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 == (tulong) (<span class="mi">1</span>) &lt;&lt; _n);)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1c9"><span class="nb">unfold</span> secp256k1_uint128_at.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (<span class="kr">if</span> (_n &gt;= (<span class="mi">64</span>)) {
     (_t&#39;4 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;4 == (tulong) (<span class="mi">1</span>) &lt;&lt; (_n - (<span class="mi">64</span>))) {
        ((_t&#39;5 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;5 == (<span class="mi">0</span>));)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   } <span class="kr">else</span> {
     (_t&#39;2 = (_r-&gt;_hi);
      <span class="kr">if</span> (_t&#39;2 == (<span class="mi">0</span>)) {
        ((_t&#39;3 = (_r-&gt;_lo);
          _t&#39;1 = (tbool) (_t&#39;3 == (tulong) (<span class="mi">1</span>) &lt;&lt; _n);)
         _t&#39;1 = (tint) _t&#39;1;)
      } <span class="kr">else</span> {
        _t&#39;1 = (tint) (<span class="mi">0</span>);
      })
   }
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1ca">forward_if (temp _t&#39;1 (Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span>^<span class="mi">128</span> =? <span class="mi">2</span>^n)))));[| |forward].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1cb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1cb"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;2 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1cc">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1cd"><span class="nb">assert</span> (Hr0: r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n =
             (((Z.shiftr r0 <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp; (r0 mod <span class="mi">2</span>^<span class="mi">64</span> =? <span class="mi">0</span>))%bool).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1ce" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1ce"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1cf"><span class="nb">change</span> (<span class="mi">2</span>^<span class="mi">128</span>) <span class="kr">with</span> (<span class="mi">2</span>^<span class="mi">64</span> * <span class="mi">2</span>^<span class="mi">64</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r0 mod (<span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">2</span> ^ <span class="mi">64</span>) =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1d0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1d0"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1d1"><span class="nb">rewrite</span> Zmod_recombine <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((r0 / <span class="mi">2</span> ^ <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">2</span> ^ <span class="mi">64</span> + r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1d2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1d2"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1d3"><span class="nb">replace</span> n <span class="kr">with</span> (n - <span class="mi">64</span> + <span class="mi">64</span>) <span class="nb">at</span> <span class="mi">1</span> <span class="bp">by</span> <span class="bp">ring</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((r0 / <span class="mi">2</span> ^ <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">2</span> ^ <span class="mi">64</span> + r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 <span class="mi">2</span> ^ (n - <span class="mi">64</span> + <span class="mi">64</span>)) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1d4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1d4"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1d5"><span class="nb">rewrite</span> &lt;- (Z.add_0_r (<span class="mi">2</span> ^ (n - <span class="mi">64</span> + <span class="mi">64</span>))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((r0 / <span class="mi">2</span> ^ <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">2</span> ^ <span class="mi">64</span> + r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 <span class="mi">2</span> ^ (n - <span class="mi">64</span> + <span class="mi">64</span>) + <span class="mi">0</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1d6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1d6"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1d7"><span class="nb">change</span> <span class="mi">0</span> <span class="kr">with</span> (<span class="mi">0</span> mod <span class="mi">2</span>^<span class="mi">64</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((r0 / <span class="mi">2</span> ^ <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">2</span> ^ <span class="mi">64</span> + r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 <span class="mi">2</span> ^ (n - <span class="mi">64</span> + <span class="mi">64</span>) + <span class="mi">0</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1d8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1d8"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1d9"><span class="nb">rewrite</span> Z.pow_add_r, &lt;- !Z.shiftl_mul_pow2, &lt;- Z.shiftr_div_pow2 <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Z.shiftl (Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) <span class="mi">64</span> +
 r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 Z.shiftl (<span class="mi">2</span> ^ (n - <span class="mi">64</span>)) <span class="mi">64</span> + <span class="mi">0</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1da" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1da"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1db"><span class="nb">apply</span> shiftl_mod_eqb_unique; <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;4 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1dc"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.shl (Int64.repr <span class="mi">1</span>)
     (Int64.repr
        (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))) =
true</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (Vlong (Int64.repr r0))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n))) =
Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1dd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1dd"><hr></label><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1de">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.shl (Int64.repr <span class="mi">1</span>)
     (Int64.repr
        (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))) =
true</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (Vlong (Int64.repr r0))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n))) =
Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1df"><span class="nb">rewrite</span> Hr0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.shl (Int64.repr <span class="mi">1</span>)
     (Int64.repr
        (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))) =
true</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (Vlong (Int64.repr r0))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z
        ((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
         (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>)))) =
Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1e0"><span class="nb">replace</span> (_ =? <span class="mi">2</span> ^ _) <span class="kr">with</span> true;[<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.shl (Int64.repr <span class="mi">1</span>)
     (Int64.repr
        (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))) =
true</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (Vlong (Int64.repr r0))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">true = (Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1e1"><span class="nb">symmetry</span>; <span class="nb">rewrite</span> Z.eqb_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.shl (Int64.repr <span class="mi">1</span>)
     (Int64.repr
        (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))) =
true</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (Vlong (Int64.repr r0))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1e2"><span class="nb">revert</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (Vlong (Int64.repr r0))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.eq (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))
  (Int64.shl (Int64.repr <span class="mi">1</span>)
     (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))) =
true -&gt; Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1e3">convert_C_to_math.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (Vlong (Int64.repr r0))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 (<span class="mi">1</span> * <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span>) = true -&gt;
Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1e4"><span class="nb">rewrite</span> Z.eqb_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (Vlong (Int64.repr r0))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =
(<span class="mi">1</span> * <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span> -&gt;
Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1e5"><span class="nb">intros</span> -&gt;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (Vlong (Int64.repr r0))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="mi">1</span> * <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1e6"><span class="nb">rewrite</span> Z.mul_1_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tint
                 (Vlong (Int64.repr r0))
                 (Vint (Int.repr <span class="mi">0</span>)))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ^ (n - <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Z.mod_small; <span class="nb">auto using</span> Z.pow_lt_mono_r <span class="kr">with</span> *.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1e7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1e8"><span class="nb">rewrite</span> Hr0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z
        ((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
         (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>)))) = Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1e9"><span class="nb">case</span> Z.eqb_spec; <span class="kp">try</span> <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>) -&gt;
Vint (Int.repr (Z.b2z (true &amp;&amp; (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>)))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1ea"><span class="nb">intros</span> Hr0n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (true &amp;&amp; (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>)))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1eb"><span class="nb">elim</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 <span class="mi">64</span>) =
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1ec">convert_C_to_math.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 <span class="mi">64</span>) =
Int64.repr (<span class="mi">1</span> * <span class="mi">2</span> ^ (n - <span class="mi">64</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1ed"><span class="nb">rewrite</span> &lt;- (Int64.repr_unsigned (Int64.repr (Z.shiftr _ _))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr
  (Int64.unsigned (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) =
Int64.repr (<span class="mi">1</span> * <span class="mi">2</span> ^ (n - <span class="mi">64</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1ee"><span class="nb">rewrite</span> Int64.unsigned_repr_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 <span class="mi">64</span> mod Int64.modulus) =
Int64.repr (<span class="mi">1</span> * <span class="mi">2</span> ^ (n - <span class="mi">64</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1ef">unfold_C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) =
Int64.repr (<span class="mi">1</span> * <span class="mi">2</span> ^ (n - <span class="mi">64</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1f0"><span class="nb">rewrite</span> Hr0n, Z.mul_1_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ (n - <span class="mi">64</span>)) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt;
Int64.shl (Int64.repr <span class="mi">1</span>)
  (Int64.repr (Int.unsigned (Int.repr (n - <span class="mi">64</span>))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">2</span> ^ (n - <span class="mi">64</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (<span class="mi">2</span> ^ (n - <span class="mi">64</span>)) = Int64.repr (<span class="mi">2</span> ^ (n - <span class="mi">64</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1f1">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;2 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1f2"><span class="nb">assert</span> (Hr0: r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n =
             (((Z.shiftr r0 <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp; (r0 mod <span class="mi">2</span>^<span class="mi">64</span> =? <span class="mi">2</span>^n))%bool).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1f3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1f3"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;2 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1f4"><span class="nb">change</span> (<span class="mi">2</span>^<span class="mi">128</span>) <span class="kr">with</span> (<span class="mi">2</span>^<span class="mi">64</span> * <span class="mi">2</span>^<span class="mi">64</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(r0 mod (<span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">2</span> ^ <span class="mi">64</span>) =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1f5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1f5"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;2 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1f6"><span class="nb">rewrite</span> Zmod_recombine <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((r0 / <span class="mi">2</span> ^ <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">2</span> ^ <span class="mi">64</span> + r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1f7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1f7"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;2 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1f8"><span class="nb">rewrite</span> &lt;- (Z.mod_small (<span class="mi">2</span>^n) (<span class="mi">2</span>^<span class="mi">64</span>)) <span class="bp">by</span> <span class="nb">auto using</span> Z.pow_lt_mono_r <span class="kr">with</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((r0 / <span class="mi">2</span> ^ <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">2</span> ^ <span class="mi">64</span> + r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 <span class="mi">2</span> ^ n mod <span class="mi">2</span> ^ <span class="mi">64</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1f9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1f9"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;2 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1fa"><span class="nb">change</span> (<span class="mi">2</span> ^ n mod <span class="mi">2</span> ^ <span class="mi">64</span>) <span class="kr">with</span> (Z.shiftl <span class="mi">0</span> <span class="mi">64</span> + <span class="mi">2</span> ^ n mod <span class="mi">2</span> ^ <span class="mi">64</span>) <span class="nb">at</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((r0 / <span class="mi">2</span> ^ <span class="mi">64</span>) mod <span class="mi">2</span> ^ <span class="mi">64</span> * <span class="mi">2</span> ^ <span class="mi">64</span> + r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =?
 Z.shiftl <span class="mi">0</span> <span class="mi">64</span> + <span class="mi">2</span> ^ n mod <span class="mi">2</span> ^ <span class="mi">64</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1fb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1fb"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;2 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1fc"><span class="nb">rewrite</span> &lt;- !Z.shiftl_mul_pow2, &lt;- Z.shiftr_div_pow2 <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Z.shiftl (Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) <span class="mi">64</span> +
 r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? Z.shiftl <span class="mi">0</span> <span class="mi">64</span> + <span class="mi">2</span> ^ n mod <span class="mi">2</span> ^ <span class="mi">64</span>) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n mod <span class="mi">2</span> ^ <span class="mi">64</span>))%bool</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk1fd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk1fd"><hr></label><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;2 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1fe"><span class="nb">apply</span> shiftl_mod_eqb_unique; <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>Delta</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>tycontext</span></span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>POSTCONDITION</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>ret_assert</span></span></span></span><br><span><var>MORE_COMMANDS</var><span><span class="hyp-body"><b>:= </b><span>abbreviate</span></span><span class="hyp-type"><b>: </b><span>statement</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">semax Delta
  (PROP ( )
   LOCAL (temp _r r; temp _n (Vint (Int.repr n)))
   SEP (data_at sh t_secp256k1_uint128
          (Vlong (Int64.repr r0),
          Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) r))
  (_t&#39;2 = (_r-&gt;_hi);
   MORE_COMMANDS) POSTCONDITION</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk1ff"><span class="kp">repeat</span> progressC.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tulong
                 (Vlong (Int64.repr r0))
                 (eval_binop Oshl tulong tuint
                    (eval_cast tint tulong
                       (Vint (Int.repr <span class="mi">1</span>)))
                    (Vint (Int.repr n))))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n))) =
Vint
  (Int.repr
     (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? (<span class="mi">1</span> * <span class="mi">2</span> ^ n) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="verif-int128-impl-v-chk200" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><label class="goal-separator" for="verif-int128-impl-v-chk200"><hr></label><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk201">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tulong
                 (Vlong (Int64.repr r0))
                 (eval_binop Oshl tulong tuint
                    (eval_cast tint tulong
                       (Vint (Int.repr <span class="mi">1</span>)))
                    (Vint (Int.repr n))))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n))) =
Vint
  (Int.repr
     (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? (<span class="mi">1</span> * <span class="mi">2</span> ^ n) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk202"><span class="nb">rewrite</span> Hr0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tulong
                 (Vlong (Int64.repr r0))
                 (eval_binop Oshl tulong tuint
                    (eval_cast tint tulong
                       (Vint (Int.repr <span class="mi">1</span>)))
                    (Vint (Int.repr n))))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z
        ((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
         (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n)))) =
Vint
  (Int.repr
     (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? (<span class="mi">1</span> * <span class="mi">2</span> ^ n) mod <span class="mi">2</span> ^ <span class="mi">64</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk203"><span class="nb">rewrite</span> Z.mul_1_l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tulong
                 (Vlong (Int64.repr r0))
                 (eval_binop Oshl tulong tuint
                    (eval_cast tint tulong
                       (Vint (Int.repr <span class="mi">1</span>)))
                    (Vint (Int.repr n))))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z
        ((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
         (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n)))) =
Vint
  (Int.repr
     (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n mod <span class="mi">2</span> ^ <span class="mi">64</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk204"><span class="nb">rewrite</span> (Z.mod_small (<span class="mi">2</span>^n) (<span class="mi">2</span>^<span class="mi">64</span>)) <span class="bp">by</span> <span class="nb">auto using</span> Z.pow_lt_mono_r <span class="kr">with</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tulong
                 (Vlong (Int64.repr r0))
                 (eval_binop Oshl tulong tuint
                    (eval_cast tint tulong
                       (Vint (Int.repr <span class="mi">1</span>)))
                    (Vint (Int.repr n))))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z
        ((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
         (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n)))) =
Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk205"><span class="nb">replace</span> (_ =? <span class="mi">0</span>) <span class="kr">with</span> true;[<span class="bp">reflexivity</span>|].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tulong
                 (Vlong (Int64.repr r0))
                 (eval_binop Oshl tulong tuint
                    (eval_cast tint tulong
                       (Vint (Int.repr <span class="mi">1</span>)))
                    (Vint (Int.repr n))))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">true = (Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk206"><span class="nb">symmetry</span>; <span class="nb">rewrite</span> Z.eqb_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tulong
                 (Vlong (Int64.repr r0))
                 (eval_binop Oshl tulong tuint
                    (eval_cast tint tulong
                       (Vint (Int.repr <span class="mi">1</span>)))
                    (Vint (Int.repr n))))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk207"><span class="nb">change</span> <span class="mi">0</span> <span class="kr">with</span> (Int64.unsigned Int64.zero).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tulong
                 (Vlong (Int64.repr r0))
                 (eval_binop Oshl tulong tuint
                    (eval_cast tint tulong
                       (Vint (Int.repr <span class="mi">1</span>)))
                    (Vint (Int.repr n))))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = Int64.unsigned Int64.zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk208"><span class="nb">rewrite</span> &lt;- H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tulong
                 (Vlong (Int64.repr r0))
                 (eval_binop Oshl tulong tuint
                    (eval_cast tint tulong
                       (Vint (Int.repr <span class="mi">1</span>)))
                    (Vint (Int.repr n))))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =
Int64.unsigned (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk209">convert_C_to_math.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.zero</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>is_int I32 Signed
  (force_val
     (sem_cast tint tint
        (force_val
           (sem_cast tint tbool
              (eval_binop Oeq tulong tulong
                 (Vlong (Int64.repr r0))
                 (eval_binop Oshl tulong tuint
                    (eval_cast tint tulong
                       (Vint (Int.repr <span class="mi">1</span>)))
                    (Vint (Int.repr n))))))))</span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk20a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint (Int.repr (Z.b2z (r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk20b"><span class="nb">rewrite</span> Hr0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr
     (Z.b2z
        ((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
         (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n)))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk20c"><span class="nb">case</span> Z.eqb_spec; <span class="kp">try</span> <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">0</span> -&gt;
Vint
  (Int.repr (Z.b2z (true &amp;&amp; (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n)))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk20d"><span class="nb">intros</span> Hr0n.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Vint
  (Int.repr (Z.b2z (true &amp;&amp; (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n)))) =
Vint (Int.repr <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk20e" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk20e"><span class="nb">elim</span> H1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 <span class="mi">64</span>) = Int64.repr <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk20f"><span class="nb">rewrite</span> &lt;- (Int64.repr_unsigned (Int64.repr (Z.shiftr _ _))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr
  (Int64.unsigned (Int64.repr (Z.shiftr r0 <span class="mi">64</span>))) =
Int64.repr <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk210"><span class="nb">rewrite</span> Int64.unsigned_repr_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 <span class="mi">64</span> mod Int64.modulus) =
Int64.repr <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="verif-int128-impl-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="verif-int128-impl-v-chk211">unfold_C.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Espec</var><span class="hyp-type"><b>: </b><span>OracleKind</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>val</span></span></span><br><span><var>sh</var><span class="hyp-type"><b>: </b><span>share</span></span></span><br><span><var>r0, n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Delta_specs</var><span class="hyp-type"><b>: </b><span>Maps.PTree.t funspec</span></span></span><br><span><var>SH</var><span class="hyp-type"><b>: </b><span>readable_share sh</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &lt;= n &lt; <span class="mi">127</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>n &lt; <span class="mi">64</span></span></span></span><br><span><var>Hr0</var><span class="hyp-type"><b>: </b><span>(r0 mod <span class="mi">2</span> ^ <span class="mi">128</span> =? <span class="mi">2</span> ^ n) =
((Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">0</span>) &amp;&amp;
 (r0 mod <span class="mi">2</span> ^ <span class="mi">64</span> =? <span class="mi">2</span> ^ n))%bool</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Int64.repr (Z.shiftr r0 <span class="mi">64</span>) &lt;&gt; Int64.repr <span class="mi">0</span></span></span></span><br><span><var>PNr</var><span class="hyp-type"><b>: </b><span>is_pointer_or_null r</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>field_compatible t_secp256k1_uint128 [] r</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>value_fits t_secp256k1_uint128
  (Vlong (Int64.repr r0),
  Vlong (Int64.repr (Z.shiftr r0 <span class="mi">64</span>)))</span></span></span><br><span><var>Hr0n</var><span class="hyp-type"><b>: </b><span>Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span> = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Int64.repr (Z.shiftr r0 <span class="mi">64</span> mod <span class="mi">2</span> ^ <span class="mi">64</span>) = Int64.repr <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> VST.floyd.VSU.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Int128ASI</span>:funspecs :=
  [secp256k1_u128_mul_spec
  ;secp256k1_u128_accum_mul_spec
  ;secp256k1_u128_accum_u64_spec
  ;secp256k1_u128_rshift_spec
  ;secp256k1_u128_to_u64_spec
  ;secp256k1_u128_hi_u64_spec
  ;secp256k1_u128_from_u64_spec
  ;secp256k1_u128_check_bits_spec
  ;secp256k1_i128_mul_spec
  ;secp256k1_i128_accum_mul_spec
  ;secp256k1_i128_dissip_mul_spec
  ;secp256k1_i128_det_spec
  ;secp256k1_i128_rshift_spec
  ;secp256k1_i128_to_i64_spec
  ;secp256k1_i128_from_i64_spec
  ;secp256k1_i128_eq_var_spec
  ;secp256k1_i128_check_pow2_spec
  ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(*</span>
<span class="c">Definition Int128VSU: @VSU NullExtension.Espec</span>
<span class="c">      nil nil ltac:(QPprog prog) Int128ASI emp.</span>
<span class="c">Proof.</span>
<span class="c">mkVSU prog Int128ASI.</span>
<span class="c">+ solve_SF_internal body_secp256k1_umulh.</span>
<span class="c">Qed.</span>
<span class="c">*)</span>
</span></pre></article></body></html>
